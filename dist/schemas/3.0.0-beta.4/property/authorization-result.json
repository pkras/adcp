{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.4/property/authorization-result.json",
  "title": "Authorization Result",
  "description": "Result of validating sales agent authorization for a property. Checks if the sales agent is listed in the property's adagents.json.",
  "type": "object",
  "properties": {
    "status": {
      "type": "string",
      "enum": ["authorized", "unauthorized", "unknown"],
      "description": "Authorization status: authorized (agent in adagents.json), unauthorized (agent not in adagents.json), unknown (could not fetch or parse adagents.json)"
    },
    "publisher_domain": {
      "type": "string",
      "description": "The publisher domain where adagents.json was checked"
    },
    "sales_agent_url": {
      "type": "string",
      "format": "uri",
      "description": "The sales agent URL that was validated"
    },
    "violation": {
      "type": "object",
      "description": "Details about the authorization failure (only present for unauthorized status)",
      "properties": {
        "code": {
          "type": "string",
          "description": "Machine-readable violation code"
        },
        "message": {
          "type": "string",
          "description": "Human-readable violation description"
        }
      },
      "required": ["code", "message"],
      "additionalProperties": false
    }
  },
  "required": ["status"],
  "additionalProperties": false
}
