{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.4/bundled/protocol/get-adcp-capabilities-response.json",
  "title": "Get AdCP Capabilities Response",
  "description": "Response payload for get_adcp_capabilities task. Protocol-level capability discovery across all AdCP protocols. Each domain protocol has its own capability section.",
  "type": "object",
  "properties": {
    "adcp": {
      "type": "object",
      "description": "Core AdCP protocol information",
      "properties": {
        "major_versions": {
          "type": "array",
          "description": "AdCP major versions supported by this seller. Major versions indicate breaking changes.",
          "items": {
            "type": "integer",
            "minimum": 1
          },
          "minItems": 1
        }
      },
      "required": [
        "major_versions"
      ]
    },
    "supported_protocols": {
      "type": "array",
      "description": "Which AdCP domain protocols this seller supports",
      "items": {
        "type": "string",
        "enum": [
          "media_buy",
          "signals",
          "governance",
          "sponsored_intelligence",
          "creative"
        ]
      },
      "minItems": 1
    },
    "account": {
      "type": "object",
      "description": "Account management capabilities. Describes how accounts are established, what billing models are supported, and whether an account is required before browsing products.",
      "properties": {
        "account_resolution": {
          "type": "string",
          "description": "How the seller resolves account references. explicit_account_id: accounts are managed out-of-band (advertiser portal, sales rep) and discovered via list_accounts. implicit_from_sync: buyer declares intent via sync_accounts and the seller provisions accounts.",
          "enum": [
            "explicit_account_id",
            "implicit_from_sync"
          ],
          "default": "explicit_account_id"
        },
        "require_operator_auth": {
          "type": "boolean",
          "description": "Whether the seller requires operator-level credentials. When false (default), the seller trusts the agent's identity claims — the agent authenticates once and declares brands/operators via sync_accounts. When true, each operator must authenticate independently with the seller, and the agent opens a per-operator session using the operator's credential.",
          "default": false
        },
        "authorization_endpoint": {
          "type": "string",
          "format": "uri",
          "description": "OAuth authorization endpoint for obtaining operator-level credentials. Present when the seller supports OAuth for operator authentication. The agent directs the operator to this URL to authenticate and obtain a bearer token. If absent and require_operator_auth is true, operators obtain credentials out-of-band (e.g., seller portal, API key)."
        },
        "supported_billing": {
          "type": "array",
          "description": "Billing models this seller supports. operator: seller invoices the operator (agency or brand buying direct). agent: agent consolidates billing. The buyer must pass one of these values in sync_accounts.",
          "items": {
            "type": "string",
            "enum": [
              "operator",
              "agent"
            ]
          },
          "minItems": 1
        },
        "required_for_products": {
          "type": "boolean",
          "description": "Whether an account reference is required for get_products. When true, the buyer must establish an account before browsing products. When false (default), the buyer can browse products without an account — useful for price comparison and discovery before committing to a seller.",
          "default": false
        },
        "account_financials": {
          "type": "boolean",
          "description": "Whether this seller supports the get_account_financials task for querying account-level financial status (spend, credit, invoices). Only applicable to operator-billed accounts.",
          "default": false
        }
      },
      "required": [
        "supported_billing"
      ]
    },
    "media_buy": {
      "type": "object",
      "description": "Media-buy protocol capabilities. Only present if media_buy is in supported_protocols.",
      "properties": {
        "features": {
          "title": "Media Buy Features",
          "description": "Optional media-buy protocol features. Used in capability declarations (seller declares support) and product filters (buyer requires support). If a seller declares a feature as true, they MUST honor requests using that feature.",
          "type": "object",
          "properties": {
            "inline_creative_management": {
              "type": "boolean",
              "description": "Supports creatives provided inline in create_media_buy requests"
            },
            "property_list_filtering": {
              "type": "boolean",
              "description": "Honors property_list parameter in get_products to filter results to buyer-approved properties"
            },
            "content_standards": {
              "type": "boolean",
              "description": "Full support for content_standards configuration including sampling rates and category filtering"
            },
            "conversion_tracking": {
              "type": "boolean",
              "description": "Supports sync_event_sources and log_event tasks for conversion event tracking"
            },
            "audience_targeting": {
              "type": "boolean",
              "description": "Supports sync_audiences task and audience_include/audience_exclude in targeting overlays for first-party CRM audience management"
            },
            "catalog_management": {
              "type": "boolean",
              "description": "Supports sync_catalogs task for catalog feed management with platform review and approval"
            },
            "sandbox": {
              "type": "boolean",
              "description": "Supports sandbox mode for operations without real platform calls or spend"
            }
          },
          "additionalProperties": {
            "type": "boolean"
          }
        },
        "execution": {
          "type": "object",
          "description": "Technical execution capabilities for media buying",
          "properties": {
            "axe_integrations": {
              "type": "array",
              "description": "Agentic ad exchange (AXE) integrations supported. URLs are canonical identifiers for exchanges this seller can execute through.",
              "items": {
                "type": "string",
                "format": "uri"
              }
            },
            "creative_specs": {
              "type": "object",
              "description": "Creative specification support",
              "properties": {
                "vast_versions": {
                  "type": "array",
                  "description": "VAST versions supported for video creatives",
                  "items": {
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+$"
                  }
                },
                "mraid_versions": {
                  "type": "array",
                  "description": "MRAID versions supported for rich media mobile creatives",
                  "items": {
                    "type": "string",
                    "pattern": "^[0-9]+\\.[0-9]+$"
                  }
                },
                "vpaid": {
                  "type": "boolean",
                  "description": "VPAID support for interactive video ads"
                },
                "simid": {
                  "type": "boolean",
                  "description": "SIMID support for interactive video ads"
                }
              }
            },
            "targeting": {
              "type": "object",
              "description": "Targeting capabilities. If declared true/supported, buyer can use these targeting parameters and seller MUST honor them.",
              "properties": {
                "geo_countries": {
                  "type": "boolean",
                  "description": "Supports country-level geo targeting using ISO 3166-1 alpha-2 codes (e.g., 'US', 'GB', 'DE')"
                },
                "geo_regions": {
                  "type": "boolean",
                  "description": "Supports region/state-level geo targeting using ISO 3166-2 subdivision codes (e.g., 'US-NY', 'GB-SCT', 'DE-BY')"
                },
                "geo_metros": {
                  "type": "object",
                  "description": "Metro area targeting support. Specifies which classification systems are supported.",
                  "properties": {
                    "nielsen_dma": {
                      "type": "boolean",
                      "description": "Supports Nielsen DMA codes (US market, e.g., '501' for NYC)"
                    },
                    "uk_itl1": {
                      "type": "boolean",
                      "description": "Supports UK ITL Level 1 regions"
                    },
                    "uk_itl2": {
                      "type": "boolean",
                      "description": "Supports UK ITL Level 2 regions"
                    },
                    "eurostat_nuts2": {
                      "type": "boolean",
                      "description": "Supports Eurostat NUTS Level 2 regions (EU)"
                    }
                  }
                },
                "geo_postal_areas": {
                  "type": "object",
                  "description": "Postal area targeting support. Specifies which postal code systems are supported. System names encode country and precision.",
                  "properties": {
                    "us_zip": {
                      "type": "boolean",
                      "description": "US 5-digit ZIP codes (e.g., '10001')"
                    },
                    "us_zip_plus_four": {
                      "type": "boolean",
                      "description": "US 9-digit ZIP+4 codes (e.g., '10001-1234')"
                    },
                    "gb_outward": {
                      "type": "boolean",
                      "description": "UK postcode district / outward code (e.g., 'SW1', 'EC1')"
                    },
                    "gb_full": {
                      "type": "boolean",
                      "description": "UK full postcode (e.g., 'SW1A 1AA')"
                    },
                    "ca_fsa": {
                      "type": "boolean",
                      "description": "Canadian Forward Sortation Area (e.g., 'K1A')"
                    },
                    "ca_full": {
                      "type": "boolean",
                      "description": "Canadian full postal code (e.g., 'K1A 0B1')"
                    },
                    "de_plz": {
                      "type": "boolean",
                      "description": "German Postleitzahl, 5 digits (e.g., '10115')"
                    },
                    "fr_code_postal": {
                      "type": "boolean",
                      "description": "French code postal, 5 digits (e.g., '75001')"
                    },
                    "au_postcode": {
                      "type": "boolean",
                      "description": "Australian postcode, 4 digits (e.g., '2000')"
                    },
                    "ch_plz": {
                      "type": "boolean",
                      "description": "Swiss Postleitzahl, 4 digits (e.g., '8000')"
                    },
                    "at_plz": {
                      "type": "boolean",
                      "description": "Austrian Postleitzahl, 4 digits (e.g., '1010')"
                    }
                  }
                },
                "age_restriction": {
                  "type": "object",
                  "description": "Age restriction capabilities for compliance (alcohol, gambling)",
                  "properties": {
                    "supported": {
                      "type": "boolean",
                      "description": "Whether seller supports age restrictions"
                    },
                    "verification_methods": {
                      "type": "array",
                      "description": "Age verification methods this seller supports",
                      "items": {
                        "title": "Age Verification Method",
                        "description": "Methods for verifying user age for compliance. Does not include 'inferred' as it is not accepted for regulatory compliance.",
                        "type": "string",
                        "enum": [
                          "facial_age_estimation",
                          "id_document",
                          "digital_id",
                          "credit_card",
                          "world_id"
                        ]
                      }
                    }
                  }
                },
                "device_platform": {
                  "type": "boolean",
                  "description": "Whether seller supports device platform targeting (Sec-CH-UA-Platform values)"
                },
                "language": {
                  "type": "boolean",
                  "description": "Whether seller supports language targeting (ISO 639-1 codes)"
                },
                "audience_include": {
                  "type": "boolean",
                  "description": "Whether seller supports audience_include in targeting overlays (requires features.audience_targeting)"
                },
                "audience_exclude": {
                  "type": "boolean",
                  "description": "Whether seller supports audience_exclude in targeting overlays (requires features.audience_targeting)"
                }
              }
            }
          }
        },
        "audience_targeting": {
          "type": "object",
          "description": "Audience targeting capabilities. Only present when features.audience_targeting is true.",
          "properties": {
            "supported_identifier_types": {
              "type": "array",
              "description": "Hashed PII types accepted for audience matching. Buyers should only send identifiers the seller supports.",
              "items": {
                "type": "string",
                "enum": [
                  "hashed_email",
                  "hashed_phone"
                ]
              },
              "minItems": 1
            },
            "supported_uid_types": {
              "type": "array",
              "description": "Universal ID types accepted for audience matching (MAIDs, RampID, UID2, etc.). MAID support varies significantly by platform — check this field before sending uids with type: maid.",
              "items": {
                "title": "UID Type",
                "description": "Universal ID types for user matching",
                "type": "string",
                "enum": [
                  "rampid",
                  "id5",
                  "uid2",
                  "euid",
                  "pairid",
                  "external_id",
                  "maid",
                  "other"
                ],
                "enumDescriptions": {
                  "rampid": "LiveRamp RampID",
                  "id5": "ID5 universal ID",
                  "uid2": "Unified ID 2.0",
                  "euid": "European Unified ID",
                  "pairid": "Publisher Addressable Identity via IAB Tech Lab PAIR protocol",
                  "external_id": "Advertiser-assigned first-party user identifier",
                  "maid": "Mobile Advertising ID (IDFA/GAID)",
                  "other": "Other universal ID type (specify in ext)"
                }
              },
              "minItems": 1
            },
            "minimum_audience_size": {
              "type": "integer",
              "description": "Minimum matched audience size required for targeting. Audiences below this threshold will have status: too_small. Varies by platform (100–1000 is typical).",
              "minimum": 1
            },
            "matching_latency_hours": {
              "type": "object",
              "description": "Expected matching latency range in hours after upload. Use to calibrate polling cadence and set appropriate expectations before configuring push_notification_config.",
              "properties": {
                "min": {
                  "type": "integer",
                  "minimum": 0
                },
                "max": {
                  "type": "integer",
                  "minimum": 0
                }
              },
              "additionalProperties": false
            }
          },
          "required": [
            "supported_identifier_types",
            "minimum_audience_size"
          ],
          "additionalProperties": true
        },
        "conversion_tracking": {
          "type": "object",
          "description": "Seller-level conversion tracking capabilities. Only present when features.conversion_tracking is true.",
          "properties": {
            "multi_source_event_dedup": {
              "type": "boolean",
              "description": "Whether this seller can deduplicate conversion events across multiple event sources within a single goal. When true, the seller honors the deduplication semantics in optimization_goals event_sources arrays — the same event_id from multiple sources counts once. When false or absent, buyers should use a single event source per goal; multi-source arrays will be treated as first-source-wins. Most social platforms cannot deduplicate across independently-managed pixel and CAPI sources."
            },
            "supported_event_types": {
              "type": "array",
              "description": "Event types this seller can track and attribute. If omitted, all standard event types are supported.",
              "items": {
                "title": "Event Type",
                "description": "Standard marketing event types for event logging, aligned with IAB ECAPI",
                "type": "string",
                "enum": [
                  "page_view",
                  "view_content",
                  "select_content",
                  "select_item",
                  "search",
                  "share",
                  "add_to_cart",
                  "remove_from_cart",
                  "viewed_cart",
                  "add_to_wishlist",
                  "initiate_checkout",
                  "add_payment_info",
                  "purchase",
                  "refund",
                  "lead",
                  "qualify_lead",
                  "close_convert_lead",
                  "disqualify_lead",
                  "complete_registration",
                  "subscribe",
                  "start_trial",
                  "app_install",
                  "app_launch",
                  "contact",
                  "schedule",
                  "donate",
                  "submit_application",
                  "custom"
                ],
                "enumDescriptions": {
                  "page_view": "User viewed a page",
                  "view_content": "User viewed specific content (product, article, etc.)",
                  "select_content": "User selected or clicked on content (article, video, etc.)",
                  "select_item": "User selected a specific product or item from a list",
                  "search": "User performed a search",
                  "share": "User shared content via social or messaging",
                  "add_to_cart": "User added an item to cart",
                  "remove_from_cart": "User removed an item from cart",
                  "viewed_cart": "User viewed their shopping cart",
                  "add_to_wishlist": "User added an item to a wishlist",
                  "initiate_checkout": "User started checkout process",
                  "add_payment_info": "User added payment information",
                  "purchase": "User completed a purchase",
                  "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                  "lead": "User expressed interest (form submission, signup, etc.)",
                  "qualify_lead": "Lead qualified by sales or scoring criteria",
                  "close_convert_lead": "Lead converted to a customer or closed deal",
                  "disqualify_lead": "Lead disqualified or marked as not viable",
                  "complete_registration": "User completed account registration",
                  "subscribe": "User subscribed to a service or newsletter",
                  "start_trial": "User started a free trial",
                  "app_install": "User installed an application",
                  "app_launch": "User launched an application",
                  "contact": "User initiated contact (call, message, etc.)",
                  "schedule": "User scheduled an appointment or event",
                  "donate": "User made a donation",
                  "submit_application": "User submitted an application (loan, job, etc.)",
                  "custom": "Custom event type (specify in custom_event_name)"
                }
              },
              "minItems": 1
            },
            "supported_uid_types": {
              "type": "array",
              "description": "Universal ID types accepted for user matching",
              "items": {
                "title": "UID Type",
                "description": "Universal ID types for user matching",
                "type": "string",
                "enum": [
                  "rampid",
                  "id5",
                  "uid2",
                  "euid",
                  "pairid",
                  "external_id",
                  "maid",
                  "other"
                ],
                "enumDescriptions": {
                  "rampid": "LiveRamp RampID",
                  "id5": "ID5 universal ID",
                  "uid2": "Unified ID 2.0",
                  "euid": "European Unified ID",
                  "pairid": "Publisher Addressable Identity via IAB Tech Lab PAIR protocol",
                  "external_id": "Advertiser-assigned first-party user identifier",
                  "maid": "Mobile Advertising ID (IDFA/GAID)",
                  "other": "Other universal ID type (specify in ext)"
                }
              },
              "minItems": 1
            },
            "supported_hashed_identifiers": {
              "type": "array",
              "description": "Hashed PII types accepted for user matching. Buyers must hash before sending (SHA-256, normalized).",
              "items": {
                "type": "string",
                "enum": [
                  "hashed_email",
                  "hashed_phone"
                ]
              },
              "minItems": 1
            },
            "supported_action_sources": {
              "type": "array",
              "description": "Action sources this seller accepts events from",
              "items": {
                "title": "Action Source",
                "description": "Where the conversion event originated",
                "type": "string",
                "enum": [
                  "website",
                  "app",
                  "offline",
                  "phone_call",
                  "chat",
                  "email",
                  "in_store",
                  "system_generated",
                  "other"
                ],
                "enumDescriptions": {
                  "website": "Event occurred on a website",
                  "app": "Event occurred in a mobile or desktop app",
                  "offline": "Event occurred offline (imported data)",
                  "phone_call": "Event originated from a phone call",
                  "chat": "Event originated from a chat conversation",
                  "email": "Event originated from an email interaction",
                  "in_store": "Event occurred at a physical retail location",
                  "system_generated": "Event generated by an automated system",
                  "other": "Other source (specify in ext)"
                }
              },
              "minItems": 1
            },
            "attribution_windows": {
              "type": "array",
              "description": "Attribution windows available from this seller. Single-element arrays indicate fixed windows; multi-element arrays indicate configurable options the buyer can choose from via attribution_window on optimization goals.",
              "items": {
                "type": "object",
                "properties": {
                  "event_type": {
                    "title": "Event Type",
                    "description": "Event type this window applies to, or omit for default window",
                    "type": "string",
                    "enum": [
                      "page_view",
                      "view_content",
                      "select_content",
                      "select_item",
                      "search",
                      "share",
                      "add_to_cart",
                      "remove_from_cart",
                      "viewed_cart",
                      "add_to_wishlist",
                      "initiate_checkout",
                      "add_payment_info",
                      "purchase",
                      "refund",
                      "lead",
                      "qualify_lead",
                      "close_convert_lead",
                      "disqualify_lead",
                      "complete_registration",
                      "subscribe",
                      "start_trial",
                      "app_install",
                      "app_launch",
                      "contact",
                      "schedule",
                      "donate",
                      "submit_application",
                      "custom"
                    ],
                    "enumDescriptions": {
                      "page_view": "User viewed a page",
                      "view_content": "User viewed specific content (product, article, etc.)",
                      "select_content": "User selected or clicked on content (article, video, etc.)",
                      "select_item": "User selected a specific product or item from a list",
                      "search": "User performed a search",
                      "share": "User shared content via social or messaging",
                      "add_to_cart": "User added an item to cart",
                      "remove_from_cart": "User removed an item from cart",
                      "viewed_cart": "User viewed their shopping cart",
                      "add_to_wishlist": "User added an item to a wishlist",
                      "initiate_checkout": "User started checkout process",
                      "add_payment_info": "User added payment information",
                      "purchase": "User completed a purchase",
                      "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                      "lead": "User expressed interest (form submission, signup, etc.)",
                      "qualify_lead": "Lead qualified by sales or scoring criteria",
                      "close_convert_lead": "Lead converted to a customer or closed deal",
                      "disqualify_lead": "Lead disqualified or marked as not viable",
                      "complete_registration": "User completed account registration",
                      "subscribe": "User subscribed to a service or newsletter",
                      "start_trial": "User started a free trial",
                      "app_install": "User installed an application",
                      "app_launch": "User launched an application",
                      "contact": "User initiated contact (call, message, etc.)",
                      "schedule": "User scheduled an appointment or event",
                      "donate": "User made a donation",
                      "submit_application": "User submitted an application (loan, job, etc.)",
                      "custom": "Custom event type (specify in custom_event_name)"
                    }
                  },
                  "click_through": {
                    "type": "array",
                    "description": "Available click-through attribution windows (e.g. [\"7d\"], [\"7d\", \"14d\", \"30d\"])",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1
                  },
                  "view_through": {
                    "type": "array",
                    "description": "Available view-through attribution windows (e.g. [\"1d\"], [\"1d\", \"7d\", \"14d\"])",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1
                  }
                },
                "required": [
                  "click_through"
                ],
                "additionalProperties": true
              }
            }
          },
          "additionalProperties": true
        },
        "portfolio": {
          "type": "object",
          "description": "Information about the seller's media inventory portfolio",
          "properties": {
            "publisher_domains": {
              "type": "array",
              "description": "Publisher domains this seller is authorized to represent. Buyers should fetch each publisher's adagents.json for property definitions.",
              "items": {
                "type": "string",
                "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
              },
              "minItems": 1
            },
            "primary_channels": {
              "type": "array",
              "description": "Primary advertising channels in this portfolio",
              "items": {
                "title": "Media Channel",
                "description": "Standardized advertising media channels describing how buyers allocate budget. Channels are planning abstractions, not technical substrates. See the Media Channel Taxonomy specification for detailed definitions.",
                "type": "string",
                "enum": [
                  "display",
                  "olv",
                  "social",
                  "search",
                  "ctv",
                  "linear_tv",
                  "radio",
                  "streaming_audio",
                  "podcast",
                  "dooh",
                  "ooh",
                  "print",
                  "cinema",
                  "email",
                  "gaming",
                  "retail_media",
                  "influencer",
                  "affiliate",
                  "product_placement"
                ],
                "enumDescriptions": {
                  "display": "Digital display advertising (banners, native, rich media) across web and app",
                  "olv": "Online video advertising outside CTV (pre-roll, outstream, in-app video)",
                  "social": "Social media platforms (Facebook, Instagram, TikTok, LinkedIn, etc.)",
                  "search": "Search engine advertising and search networks",
                  "ctv": "Connected TV and streaming on television screens",
                  "linear_tv": "Traditional broadcast and cable television",
                  "radio": "Traditional AM/FM radio broadcast",
                  "streaming_audio": "Digital audio streaming services (Spotify, Pandora, etc.)",
                  "podcast": "Podcast advertising (host-read or dynamically inserted)",
                  "dooh": "Digital out-of-home screens in public spaces",
                  "ooh": "Classic out-of-home (physical billboards, transit, etc.)",
                  "print": "Newspapers, magazines, and other print publications",
                  "cinema": "Movie theater advertising",
                  "email": "Email advertising and sponsored newsletter content",
                  "gaming": "In-game advertising across platforms",
                  "retail_media": "Retail media networks and commerce marketplaces (Amazon, Walmart, Instacart)",
                  "influencer": "Creator and influencer marketing partnerships",
                  "affiliate": "Affiliate networks, comparison sites, and performance-based partnerships",
                  "product_placement": "Product placement, branded content, and sponsorship integrations"
                }
              }
            },
            "primary_countries": {
              "type": "array",
              "description": "Primary countries (ISO 3166-1 alpha-2) where inventory is concentrated",
              "items": {
                "type": "string",
                "pattern": "^[A-Z]{2}$"
              }
            },
            "description": {
              "type": "string",
              "description": "Markdown-formatted description of the inventory portfolio",
              "maxLength": 5000
            },
            "advertising_policies": {
              "type": "string",
              "description": "Advertising content policies, restrictions, and guidelines",
              "maxLength": 10000
            }
          },
          "required": [
            "publisher_domains"
          ]
        }
      }
    },
    "signals": {
      "type": "object",
      "description": "Signals protocol capabilities. Only present if signals is in supported_protocols.",
      "properties": {
        "data_provider_domains": {
          "type": "array",
          "description": "Data provider domains this signals agent is authorized to resell. Buyers should fetch each data provider's adagents.json for signal catalog definitions and to verify authorization.",
          "items": {
            "type": "string",
            "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
          },
          "minItems": 1
        },
        "features": {
          "type": "object",
          "description": "Optional signals features supported",
          "properties": {
            "catalog_signals": {
              "type": "boolean",
              "description": "Supports signals from data provider catalogs with structured signal_id references"
            }
          },
          "additionalProperties": {
            "type": "boolean"
          }
        }
      }
    },
    "governance": {
      "type": "object",
      "description": "Governance protocol capabilities. Only present if governance is in supported_protocols. Governance agents provide property and creative data like compliance scores, brand safety ratings, sustainability metrics, and creative quality assessments.",
      "properties": {
        "property_features": {
          "type": "array",
          "description": "Property features this governance agent can evaluate. Each feature describes a score, rating, or certification the agent can provide for properties.",
          "items": {
            "type": "object",
            "properties": {
              "feature_id": {
                "type": "string",
                "description": "Unique identifier for this feature (e.g., 'consent_quality', 'coppa_certified', 'carbon_score')"
              },
              "type": {
                "type": "string",
                "enum": [
                  "binary",
                  "quantitative",
                  "categorical"
                ],
                "description": "Data type: 'binary' for yes/no, 'quantitative' for numeric scores, 'categorical' for enum values"
              },
              "range": {
                "type": "object",
                "description": "For quantitative features, the valid range",
                "properties": {
                  "min": {
                    "type": "number",
                    "description": "Minimum value"
                  },
                  "max": {
                    "type": "number",
                    "description": "Maximum value"
                  }
                },
                "required": [
                  "min",
                  "max"
                ]
              },
              "categories": {
                "type": "array",
                "description": "For categorical features, the valid values",
                "items": {
                  "type": "string"
                }
              },
              "description": {
                "type": "string",
                "description": "Human-readable description of what this feature measures"
              },
              "methodology_url": {
                "type": "string",
                "format": "uri",
                "description": "URL to documentation explaining how this feature is calculated or measured. Helps buyers understand and compare methodologies across vendors."
              }
            },
            "required": [
              "feature_id",
              "type"
            ]
          }
        },
        "creative_features": {
          "type": "array",
          "description": "Creative features this governance agent can evaluate. Each feature describes a score, rating, or assessment the agent can provide for creatives (e.g., security scanning, creative quality, content categorization).",
          "items": {
            "type": "object",
            "properties": {
              "feature_id": {
                "type": "string",
                "description": "Unique identifier for this feature (e.g., 'auto_redirect', 'brand_consistency', 'iab_casinos_gambling')"
              },
              "type": {
                "type": "string",
                "enum": [
                  "binary",
                  "quantitative",
                  "categorical"
                ],
                "description": "Data type: 'binary' for yes/no, 'quantitative' for numeric scores, 'categorical' for enum values"
              },
              "range": {
                "type": "object",
                "description": "For quantitative features, the valid range",
                "properties": {
                  "min": {
                    "type": "number",
                    "description": "Minimum value"
                  },
                  "max": {
                    "type": "number",
                    "description": "Maximum value"
                  }
                },
                "required": [
                  "min",
                  "max"
                ]
              },
              "categories": {
                "type": "array",
                "description": "For categorical features, the valid values",
                "items": {
                  "type": "string"
                }
              },
              "description": {
                "type": "string",
                "description": "Human-readable description of what this feature measures"
              },
              "methodology_url": {
                "type": "string",
                "format": "uri",
                "description": "URL to documentation explaining how this feature is calculated or measured."
              }
            },
            "required": [
              "feature_id",
              "type"
            ]
          }
        }
      }
    },
    "sponsored_intelligence": {
      "type": "object",
      "description": "Sponsored Intelligence protocol capabilities. Only present if sponsored_intelligence is in supported_protocols. SI agents handle conversational brand experiences.",
      "properties": {
        "endpoint": {
          "type": "object",
          "description": "SI agent endpoint configuration",
          "properties": {
            "transports": {
              "type": "array",
              "description": "Available protocol transports. Hosts select based on their capabilities.",
              "items": {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "mcp",
                      "a2a"
                    ],
                    "description": "Protocol transport type"
                  },
                  "url": {
                    "type": "string",
                    "format": "uri",
                    "description": "Agent endpoint URL for this transport"
                  }
                },
                "required": [
                  "type",
                  "url"
                ],
                "additionalProperties": true
              },
              "minItems": 1
            },
            "preferred": {
              "type": "string",
              "enum": [
                "mcp",
                "a2a"
              ],
              "description": "Preferred transport when host supports multiple"
            }
          },
          "required": [
            "transports"
          ]
        },
        "capabilities": {
          "title": "SI Capabilities",
          "description": "Modalities, components, and commerce capabilities",
          "type": "object",
          "properties": {
            "modalities": {
              "type": "object",
              "description": "Interaction modalities supported",
              "properties": {
                "conversational": {
                  "type": "boolean",
                  "description": "Pure text exchange - the baseline modality",
                  "default": true
                },
                "voice": {
                  "oneOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "provider": {
                          "type": "string",
                          "description": "TTS provider (elevenlabs, openai, etc.)"
                        },
                        "voice_id": {
                          "type": "string",
                          "description": "Brand voice identifier"
                        }
                      },
                      "additionalProperties": true
                    }
                  ],
                  "description": "Audio-based interaction using brand voice"
                },
                "video": {
                  "oneOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "formats": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "Supported video formats (mp4, webm, etc.)"
                        },
                        "max_duration_seconds": {
                          "type": "integer",
                          "description": "Maximum video duration"
                        }
                      },
                      "additionalProperties": true
                    }
                  ],
                  "description": "Brand video content playback"
                },
                "avatar": {
                  "oneOf": [
                    {
                      "type": "boolean"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "provider": {
                          "type": "string",
                          "description": "Avatar provider (d-id, heygen, synthesia, etc.)"
                        },
                        "avatar_id": {
                          "type": "string",
                          "description": "Brand avatar identifier"
                        }
                      },
                      "additionalProperties": true
                    }
                  ],
                  "description": "Animated video presence with brand avatar"
                }
              },
              "additionalProperties": true
            },
            "components": {
              "type": "object",
              "description": "Visual components supported",
              "properties": {
                "standard": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "text",
                      "link",
                      "image",
                      "product_card",
                      "carousel",
                      "action_button"
                    ]
                  },
                  "description": "Standard components that all SI hosts must render"
                },
                "extensions": {
                  "type": "object",
                  "description": "Platform-specific extensions (chatgpt_apps_sdk, maps, forms, etc.)",
                  "additionalProperties": true
                }
              },
              "additionalProperties": true
            },
            "commerce": {
              "type": "object",
              "description": "Commerce capabilities",
              "properties": {
                "acp_checkout": {
                  "type": "boolean",
                  "description": "Supports ACP (Agentic Commerce Protocol) checkout handoff"
                }
              },
              "additionalProperties": true
            },
            "a2ui": {
              "type": "object",
              "description": "A2UI (Agent-to-UI) capabilities",
              "properties": {
                "supported": {
                  "type": "boolean",
                  "description": "Supports A2UI surface rendering",
                  "default": false
                },
                "catalogs": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Supported A2UI component catalogs (e.g., 'si-standard', 'standard')"
                }
              },
              "additionalProperties": true
            },
            "mcp_apps": {
              "type": "boolean",
              "description": "Supports MCP Apps for rendering A2UI surfaces in iframes",
              "default": false
            }
          },
          "additionalProperties": true
        },
        "brand_url": {
          "type": "string",
          "format": "uri",
          "description": "URL to brand.json with colors, fonts, logos, tone"
        }
      },
      "required": [
        "endpoint",
        "capabilities"
      ]
    },
    "creative": {
      "type": "object",
      "description": "Creative protocol capabilities. Only present if creative is in supported_protocols.",
      "properties": {
        "supports_brief": {
          "type": "boolean",
          "description": "Whether this creative agent accepts creative_brief in build_creative requests for structured campaign-level creative direction"
        }
      },
      "additionalProperties": true
    },
    "extensions_supported": {
      "type": "array",
      "description": "Extension namespaces this agent supports. Buyers can expect meaningful data in ext.{namespace} fields on responses from this agent. Extension schemas are published in the AdCP extension registry.",
      "items": {
        "type": "string",
        "pattern": "^[a-z][a-z0-9_]*$",
        "description": "Extension namespace (lowercase alphanumeric with underscores, e.g., 'scope3', 'garm', 'iab_tcf')"
      },
      "uniqueItems": true
    },
    "last_updated": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of when capabilities were last updated. Buyers can use this for cache invalidation."
    },
    "errors": {
      "type": "array",
      "description": "Task-specific errors and warnings",
      "items": {
        "title": "Error",
        "description": "Standard error structure for task-specific errors and warnings",
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Error code for programmatic handling"
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message"
          },
          "field": {
            "type": "string",
            "description": "Field path associated with the error (e.g., 'packages[0].targeting')"
          },
          "suggestion": {
            "type": "string",
            "description": "Suggested fix for the error"
          },
          "retry_after": {
            "type": "number",
            "description": "Seconds to wait before retrying the operation",
            "minimum": 0
          },
          "details": {
            "type": "object",
            "description": "Additional task-specific error details",
            "additionalProperties": true
          }
        },
        "required": [
          "code",
          "message"
        ],
        "additionalProperties": true
      }
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "adcp",
    "supported_protocols"
  ],
  "additionalProperties": true,
  "_bundled": {
    "generatedAt": "2026-02-26T12:28:33.852Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}