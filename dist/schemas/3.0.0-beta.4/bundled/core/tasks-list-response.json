{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.4/bundled/core/tasks-list-response.json",
  "title": "Tasks List Response",
  "description": "Response from task listing query with filtered results and state reconciliation data across all AdCP domains",
  "type": "object",
  "properties": {
    "query_summary": {
      "type": "object",
      "description": "Summary of the query that was executed",
      "properties": {
        "total_matching": {
          "type": "integer",
          "description": "Total number of tasks matching filters (across all pages)",
          "minimum": 0
        },
        "returned": {
          "type": "integer",
          "description": "Number of tasks returned in this response",
          "minimum": 0
        },
        "domain_breakdown": {
          "type": "object",
          "description": "Count of tasks by domain",
          "properties": {
            "media-buy": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of media-buy tasks in results"
            },
            "signals": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of signals tasks in results"
            }
          },
          "additionalProperties": true
        },
        "status_breakdown": {
          "type": "object",
          "description": "Count of tasks by status",
          "additionalProperties": {
            "type": "integer",
            "minimum": 0
          }
        },
        "filters_applied": {
          "type": "array",
          "description": "List of filters that were applied to the query",
          "items": {
            "type": "string"
          }
        },
        "sort_applied": {
          "type": "object",
          "description": "Sort order that was applied",
          "properties": {
            "field": {
              "type": "string"
            },
            "direction": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ]
            }
          },
          "required": [
            "field",
            "direction"
          ],
          "additionalProperties": true
        }
      },
      "required": [],
      "additionalProperties": true
    },
    "tasks": {
      "type": "array",
      "description": "Array of tasks matching the query criteria",
      "items": {
        "type": "object",
        "properties": {
          "task_id": {
            "type": "string",
            "description": "Unique identifier for this task"
          },
          "task_type": {
            "title": "Task Type",
            "description": "Type of AdCP operation",
            "type": "string",
            "enum": [
              "create_media_buy",
              "update_media_buy",
              "sync_creatives",
              "activate_signal",
              "get_signals",
              "create_property_list",
              "update_property_list",
              "get_property_list",
              "list_property_lists",
              "delete_property_list",
              "sync_accounts",
              "get_account_financials",
              "get_creative_delivery",
              "sync_event_sources",
              "sync_audiences",
              "sync_catalogs",
              "log_event"
            ],
            "enumDescriptions": {
              "create_media_buy": "Media-buy domain: Create a new advertising campaign with one or more packages",
              "update_media_buy": "Media-buy domain: Update campaign settings, package configuration, or delivery parameters",
              "sync_creatives": "Media-buy domain: Sync creative assets to publisher's library with upsert semantics",
              "activate_signal": "Signals domain: Activate an audience signal on a specific platform or account",
              "get_signals": "Signals domain: Discover available audience signals based on natural language description",
              "create_property_list": "Property domain: Create a new property list with filters and brand reference",
              "update_property_list": "Property domain: Update an existing property list",
              "get_property_list": "Property domain: Retrieve a property list with resolved properties",
              "list_property_lists": "Property domain: List all accessible property lists",
              "delete_property_list": "Property domain: Delete a property list",
              "sync_accounts": "Account domain: Sync advertiser accounts with a seller using upsert semantics",
              "get_account_financials": "Account domain: Query financial status of an operator-billed account (spend, credit, invoices)",
              "get_creative_delivery": "Creative domain: Retrieve variant-level creative delivery data",
              "sync_event_sources": "Media-buy domain: Configure event sources on an account with upsert semantics",
              "sync_audiences": "Media-buy domain: Manage first-party CRM audiences on an account with delta upsert semantics",
              "sync_catalogs": "Media-buy domain: Sync catalog feeds (products, inventory, stores, promotions, offerings) to a platform with approval workflow",
              "log_event": "Media-buy domain: Send conversion or marketing events for attribution"
            },
            "notes": [
              "Task types map to specific AdCP task operations",
              "Each task type belongs to the 'media-buy', 'signals', 'property', 'account', or 'creative' domain",
              "This enum is used in task management APIs (tasks/list, tasks/get) and webhook payloads",
              "New task types require a minor version bump per semantic versioning"
            ]
          },
          "domain": {
            "type": "string",
            "description": "AdCP domain this task belongs to",
            "enum": [
              "media-buy",
              "signals"
            ]
          },
          "status": {
            "title": "Task Status",
            "description": "Current task status",
            "type": "string",
            "enum": [
              "submitted",
              "working",
              "input-required",
              "completed",
              "canceled",
              "failed",
              "rejected",
              "auth-required",
              "unknown"
            ],
            "enumDescriptions": {
              "submitted": "Task accepted and queued for long-running execution (hours to days). Client should poll with tasks/get or provide webhook_url at protocol level.",
              "working": "Agent is actively processing the task, expect completion within 120 seconds",
              "input-required": "Task is paused and waiting for input from the user (e.g., clarification, approval)",
              "completed": "Task has been successfully completed",
              "canceled": "Task was canceled by the user",
              "failed": "Task failed due to an error during execution",
              "rejected": "Task was rejected by the agent and was not started",
              "auth-required": "Task requires authentication to proceed",
              "unknown": "Task is in an unknown or indeterminate state"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the task was initially created (ISO 8601)"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the task was last updated (ISO 8601)"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time",
            "description": "When the task completed (ISO 8601, only for completed/failed/canceled tasks)"
          },
          "has_webhook": {
            "type": "boolean",
            "description": "Whether this task has webhook configuration"
          }
        },
        "required": [
          "task_id",
          "task_type",
          "domain",
          "status",
          "created_at",
          "updated_at"
        ],
        "additionalProperties": true
      }
    },
    "pagination": {
      "title": "Pagination Response",
      "description": "Standard cursor-based pagination metadata for list responses",
      "type": "object",
      "properties": {
        "has_more": {
          "type": "boolean",
          "description": "Whether more results are available beyond this page"
        },
        "cursor": {
          "type": "string",
          "description": "Opaque cursor to pass in the next request to fetch the next page. Only present when has_more is true."
        },
        "total_count": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of items matching the query across all pages. Optional because not all backends can efficiently compute this."
        }
      },
      "required": [
        "has_more"
      ],
      "additionalProperties": false
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "query_summary",
    "tasks",
    "pagination"
  ],
  "additionalProperties": true,
  "_bundled": {
    "generatedAt": "2026-02-26T12:28:33.787Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}