{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.4/bundled/creative/get-creative-delivery-response.json",
  "title": "Get Creative Delivery Response",
  "description": "Response payload for get_creative_delivery task. Returns creative delivery data with variant-level breakdowns including manifests and metrics.",
  "type": "object",
  "properties": {
    "account_id": {
      "type": "string",
      "description": "Account identifier. Present when the response spans or is scoped to a specific account."
    },
    "media_buy_id": {
      "type": "string",
      "description": "Publisher's media buy identifier. Present when the request was scoped to a single media buy."
    },
    "media_buy_buyer_ref": {
      "type": "string",
      "description": "Buyer's reference identifier for the media buy. Echoed back so the buyer can correlate without mapping publisher IDs."
    },
    "currency": {
      "type": "string",
      "description": "ISO 4217 currency code for monetary values in this response (e.g., 'USD', 'EUR')",
      "pattern": "^[A-Z]{3}$"
    },
    "reporting_period": {
      "type": "object",
      "description": "Date range for the report.",
      "properties": {
        "start": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 start timestamp"
        },
        "end": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 end timestamp"
        },
        "timezone": {
          "type": "string",
          "description": "IANA timezone identifier for the reporting period (e.g., 'America/New_York', 'UTC'). Platforms report in their native timezone."
        }
      },
      "required": [
        "start",
        "end"
      ],
      "additionalProperties": true
    },
    "creatives": {
      "type": "array",
      "description": "Creative delivery data with variant breakdowns",
      "items": {
        "type": "object",
        "properties": {
          "creative_id": {
            "type": "string",
            "description": "Creative identifier"
          },
          "media_buy_id": {
            "type": "string",
            "description": "Publisher's media buy identifier for this creative. Present when the request spanned multiple media buys, so the buyer can correlate each creative to its media buy."
          },
          "format_id": {
            "title": "Format ID",
            "description": "Format of this creative",
            "type": "object",
            "properties": {
              "agent_url": {
                "type": "string",
                "format": "uri",
                "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
              },
              "id": {
                "type": "string",
                "pattern": "^[a-zA-Z0-9_-]+$",
                "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
              },
              "width": {
                "type": "integer",
                "minimum": 1,
                "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
              },
              "height": {
                "type": "integer",
                "minimum": 1,
                "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
              },
              "duration_ms": {
                "type": "number",
                "minimum": 1,
                "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
              }
            },
            "required": [
              "agent_url",
              "id"
            ],
            "additionalProperties": true,
            "dependencies": {
              "width": [
                "height"
              ],
              "height": [
                "width"
              ]
            }
          },
          "totals": {
            "title": "Delivery Metrics",
            "description": "Aggregate delivery metrics across all variants of this creative",
            "type": "object",
            "properties": {
              "impressions": {
                "type": "number",
                "description": "Impressions delivered",
                "minimum": 0
              },
              "spend": {
                "type": "number",
                "description": "Amount spent",
                "minimum": 0
              },
              "clicks": {
                "type": "number",
                "description": "Total clicks",
                "minimum": 0
              },
              "ctr": {
                "type": "number",
                "description": "Click-through rate (clicks/impressions)",
                "minimum": 0,
                "maximum": 1
              },
              "views": {
                "type": "number",
                "description": "Views at threshold (for CPV)",
                "minimum": 0
              },
              "completed_views": {
                "type": "number",
                "description": "Video/audio completions. When the package has a completed_views optimization goal with view_duration_seconds, completions are counted at that threshold rather than 100% completion.",
                "minimum": 0
              },
              "completion_rate": {
                "type": "number",
                "description": "Completion rate (completed_views/impressions)",
                "minimum": 0,
                "maximum": 1
              },
              "conversions": {
                "type": "number",
                "description": "Total conversions attributed to this delivery. When by_event_type is present, this equals the sum of all by_event_type[].count entries.",
                "minimum": 0
              },
              "conversion_value": {
                "type": "number",
                "description": "Total monetary value of attributed conversions (in the reporting currency)",
                "minimum": 0
              },
              "roas": {
                "type": "number",
                "description": "Return on ad spend (conversion_value / spend)",
                "minimum": 0
              },
              "cost_per_acquisition": {
                "type": "number",
                "description": "Cost per conversion (spend / conversions)",
                "minimum": 0
              },
              "new_to_brand_rate": {
                "type": "number",
                "description": "Fraction of conversions from first-time brand buyers (0 = none, 1 = all)",
                "minimum": 0,
                "maximum": 1
              },
              "leads": {
                "type": "number",
                "description": "Leads generated (convenience alias for by_event_type where event_type='lead')",
                "minimum": 0
              },
              "by_event_type": {
                "type": "array",
                "description": "Conversion metrics broken down by event type. Spend-derived metrics (ROAS, CPA) are only available at the package/totals level since spend cannot be attributed to individual event types.",
                "items": {
                  "type": "object",
                  "properties": {
                    "event_type": {
                      "title": "Event Type",
                      "description": "The event type",
                      "type": "string",
                      "enum": [
                        "page_view",
                        "view_content",
                        "select_content",
                        "select_item",
                        "search",
                        "share",
                        "add_to_cart",
                        "remove_from_cart",
                        "viewed_cart",
                        "add_to_wishlist",
                        "initiate_checkout",
                        "add_payment_info",
                        "purchase",
                        "refund",
                        "lead",
                        "qualify_lead",
                        "close_convert_lead",
                        "disqualify_lead",
                        "complete_registration",
                        "subscribe",
                        "start_trial",
                        "app_install",
                        "app_launch",
                        "contact",
                        "schedule",
                        "donate",
                        "submit_application",
                        "custom"
                      ],
                      "enumDescriptions": {
                        "page_view": "User viewed a page",
                        "view_content": "User viewed specific content (product, article, etc.)",
                        "select_content": "User selected or clicked on content (article, video, etc.)",
                        "select_item": "User selected a specific product or item from a list",
                        "search": "User performed a search",
                        "share": "User shared content via social or messaging",
                        "add_to_cart": "User added an item to cart",
                        "remove_from_cart": "User removed an item from cart",
                        "viewed_cart": "User viewed their shopping cart",
                        "add_to_wishlist": "User added an item to a wishlist",
                        "initiate_checkout": "User started checkout process",
                        "add_payment_info": "User added payment information",
                        "purchase": "User completed a purchase",
                        "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                        "lead": "User expressed interest (form submission, signup, etc.)",
                        "qualify_lead": "Lead qualified by sales or scoring criteria",
                        "close_convert_lead": "Lead converted to a customer or closed deal",
                        "disqualify_lead": "Lead disqualified or marked as not viable",
                        "complete_registration": "User completed account registration",
                        "subscribe": "User subscribed to a service or newsletter",
                        "start_trial": "User started a free trial",
                        "app_install": "User installed an application",
                        "app_launch": "User launched an application",
                        "contact": "User initiated contact (call, message, etc.)",
                        "schedule": "User scheduled an appointment or event",
                        "donate": "User made a donation",
                        "submit_application": "User submitted an application (loan, job, etc.)",
                        "custom": "Custom event type (specify in custom_event_name)"
                      }
                    },
                    "event_source_id": {
                      "type": "string",
                      "description": "Event source that produced these conversions (for disambiguation when multiple event sources are configured)"
                    },
                    "count": {
                      "type": "number",
                      "description": "Number of events of this type",
                      "minimum": 0
                    },
                    "value": {
                      "type": "number",
                      "description": "Total monetary value of events of this type",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "event_type",
                    "count"
                  ],
                  "additionalProperties": true
                }
              },
              "grps": {
                "type": "number",
                "description": "Gross Rating Points delivered (for CPP)",
                "minimum": 0
              },
              "reach": {
                "type": "number",
                "description": "Unique reach - units depend on measurement provider (e.g., individuals, households, devices, cookies). See delivery_measurement.provider for methodology.",
                "minimum": 0
              },
              "frequency": {
                "type": "number",
                "description": "Average frequency per individual (typically measured over campaign duration, but can vary by measurement provider)",
                "minimum": 0
              },
              "quartile_data": {
                "type": "object",
                "description": "Video quartile completion data",
                "properties": {
                  "q1_views": {
                    "type": "number",
                    "description": "25% completion views",
                    "minimum": 0
                  },
                  "q2_views": {
                    "type": "number",
                    "description": "50% completion views",
                    "minimum": 0
                  },
                  "q3_views": {
                    "type": "number",
                    "description": "75% completion views",
                    "minimum": 0
                  },
                  "q4_views": {
                    "type": "number",
                    "description": "100% completion views",
                    "minimum": 0
                  }
                }
              },
              "dooh_metrics": {
                "type": "object",
                "description": "DOOH-specific metrics (only included for DOOH campaigns)",
                "properties": {
                  "loop_plays": {
                    "type": "integer",
                    "description": "Number of times ad played in rotation",
                    "minimum": 0
                  },
                  "screens_used": {
                    "type": "integer",
                    "description": "Number of unique screens displaying the ad",
                    "minimum": 0
                  },
                  "screen_time_seconds": {
                    "type": "integer",
                    "description": "Total display time in seconds",
                    "minimum": 0
                  },
                  "sov_achieved": {
                    "type": "number",
                    "description": "Actual share of voice delivered (0.0 to 1.0)",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "calculation_notes": {
                    "type": "string",
                    "description": "Explanation of how DOOH impressions were calculated"
                  },
                  "venue_breakdown": {
                    "type": "array",
                    "description": "Per-venue performance breakdown",
                    "items": {
                      "type": "object",
                      "properties": {
                        "venue_id": {
                          "type": "string",
                          "description": "Venue identifier"
                        },
                        "venue_name": {
                          "type": "string",
                          "description": "Human-readable venue name"
                        },
                        "venue_type": {
                          "type": "string",
                          "description": "Venue type (e.g., 'airport', 'transit', 'retail', 'billboard')"
                        },
                        "impressions": {
                          "type": "integer",
                          "description": "Impressions delivered at this venue",
                          "minimum": 0
                        },
                        "loop_plays": {
                          "type": "integer",
                          "description": "Loop plays at this venue",
                          "minimum": 0
                        },
                        "screens_used": {
                          "type": "integer",
                          "description": "Number of screens used at this venue",
                          "minimum": 0
                        }
                      },
                      "required": [
                        "venue_id",
                        "impressions"
                      ],
                      "additionalProperties": true
                    }
                  }
                },
                "additionalProperties": true
              },
              "viewability": {
                "type": "object",
                "description": "Viewability metrics. Viewable rate should be calculated as viewable_impressions / measurable_impressions (not total impressions), since some environments cannot measure viewability.",
                "properties": {
                  "measurable_impressions": {
                    "type": "number",
                    "description": "Impressions where viewability could be measured. Excludes environments without measurement capability (e.g., non-Intersection Observer browsers, certain app environments).",
                    "minimum": 0
                  },
                  "viewable_impressions": {
                    "type": "number",
                    "description": "Impressions that met the viewability threshold defined by the measurement standard.",
                    "minimum": 0
                  },
                  "viewable_rate": {
                    "type": "number",
                    "description": "Viewable impression rate (viewable_impressions / measurable_impressions). Range 0.0 to 1.0.",
                    "minimum": 0,
                    "maximum": 1
                  },
                  "standard": {
                    "type": "string",
                    "enum": [
                      "mrc",
                      "groupm"
                    ],
                    "description": "Viewability measurement standard. 'mrc': 50% of pixels in view for 1 second (display) or 2 seconds (video), per MRC/IAB guidelines. 'groupm': 100% of pixels in view for the same durations. These are materially different thresholds and should not be compared across standards."
                  }
                },
                "additionalProperties": true
              },
              "engagements": {
                "type": "number",
                "description": "Total engagements — direct interactions with the ad beyond viewing. Includes social reactions/comments/shares, story/unit opens, interactive overlay taps on CTV, companion banner interactions on audio. Platform-specific; corresponds to the 'engagements' optimization metric.",
                "minimum": 0
              },
              "follows": {
                "type": "number",
                "description": "New followers, page likes, artist/podcast/channel subscribes attributed to this delivery.",
                "minimum": 0
              },
              "saves": {
                "type": "number",
                "description": "Saves, bookmarks, playlist adds, pins attributed to this delivery.",
                "minimum": 0
              },
              "profile_visits": {
                "type": "number",
                "description": "Visits to the brand's in-platform page (profile, artist page, channel, or storefront) attributed to this delivery. Does not include external website clicks.",
                "minimum": 0
              },
              "engagement_rate": {
                "type": "number",
                "description": "Platform-specific engagement rate (0.0 to 1.0). Typically engagements/impressions, but definition varies by platform.",
                "minimum": 0,
                "maximum": 1
              },
              "cost_per_click": {
                "type": "number",
                "description": "Cost per click (spend / clicks)",
                "minimum": 0
              },
              "by_action_source": {
                "type": "array",
                "description": "Conversion metrics broken down by action source (website, app, in_store, etc.). Useful for omnichannel sellers where conversions occur across digital and physical channels.",
                "items": {
                  "type": "object",
                  "properties": {
                    "action_source": {
                      "title": "Action Source",
                      "description": "Where the conversion occurred",
                      "type": "string",
                      "enum": [
                        "website",
                        "app",
                        "offline",
                        "phone_call",
                        "chat",
                        "email",
                        "in_store",
                        "system_generated",
                        "other"
                      ],
                      "enumDescriptions": {
                        "website": "Event occurred on a website",
                        "app": "Event occurred in a mobile or desktop app",
                        "offline": "Event occurred offline (imported data)",
                        "phone_call": "Event originated from a phone call",
                        "chat": "Event originated from a chat conversation",
                        "email": "Event originated from an email interaction",
                        "in_store": "Event occurred at a physical retail location",
                        "system_generated": "Event generated by an automated system",
                        "other": "Other source (specify in ext)"
                      }
                    },
                    "event_source_id": {
                      "type": "string",
                      "description": "Event source that produced these conversions (for disambiguation when multiple event sources are configured)"
                    },
                    "count": {
                      "type": "number",
                      "description": "Number of conversions from this action source",
                      "minimum": 0
                    },
                    "value": {
                      "type": "number",
                      "description": "Total monetary value of conversions from this action source",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "action_source",
                    "count"
                  ],
                  "additionalProperties": true
                }
              }
            },
            "additionalProperties": true
          },
          "variant_count": {
            "type": "integer",
            "description": "Total number of variants for this creative. When max_variants was specified in the request, this may exceed the number of items in the variants array.",
            "minimum": 0
          },
          "variants": {
            "type": "array",
            "description": "Variant-level delivery breakdown. Each variant includes the rendered manifest and delivery metrics. For standard creatives, contains a single variant. For asset group optimization, one per combination. For generative creative, one per generated execution. Empty when a creative has no variants yet.",
            "items": {
              "title": "Creative Variant",
              "description": "A specific execution variant of a creative with delivery metrics. For catalog-driven packages, each catalog item rendered as a distinct ad execution is a variant — the variant's manifest includes the catalog reference with the specific item rendered. For asset group optimization, represents one combination of assets the platform selected. For generative creative, represents a platform-generated variant. For standard creatives, maps 1:1 with the creative itself.",
              "type": "object",
              "allOf": [
                {
                  "title": "Delivery Metrics",
                  "description": "Standard delivery metrics that can be reported at media buy, package, or creative level",
                  "type": "object",
                  "properties": {
                    "impressions": {
                      "type": "number",
                      "description": "Impressions delivered",
                      "minimum": 0
                    },
                    "spend": {
                      "type": "number",
                      "description": "Amount spent",
                      "minimum": 0
                    },
                    "clicks": {
                      "type": "number",
                      "description": "Total clicks",
                      "minimum": 0
                    },
                    "ctr": {
                      "type": "number",
                      "description": "Click-through rate (clicks/impressions)",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "views": {
                      "type": "number",
                      "description": "Views at threshold (for CPV)",
                      "minimum": 0
                    },
                    "completed_views": {
                      "type": "number",
                      "description": "Video/audio completions. When the package has a completed_views optimization goal with view_duration_seconds, completions are counted at that threshold rather than 100% completion.",
                      "minimum": 0
                    },
                    "completion_rate": {
                      "type": "number",
                      "description": "Completion rate (completed_views/impressions)",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "conversions": {
                      "type": "number",
                      "description": "Total conversions attributed to this delivery. When by_event_type is present, this equals the sum of all by_event_type[].count entries.",
                      "minimum": 0
                    },
                    "conversion_value": {
                      "type": "number",
                      "description": "Total monetary value of attributed conversions (in the reporting currency)",
                      "minimum": 0
                    },
                    "roas": {
                      "type": "number",
                      "description": "Return on ad spend (conversion_value / spend)",
                      "minimum": 0
                    },
                    "cost_per_acquisition": {
                      "type": "number",
                      "description": "Cost per conversion (spend / conversions)",
                      "minimum": 0
                    },
                    "new_to_brand_rate": {
                      "type": "number",
                      "description": "Fraction of conversions from first-time brand buyers (0 = none, 1 = all)",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "leads": {
                      "type": "number",
                      "description": "Leads generated (convenience alias for by_event_type where event_type='lead')",
                      "minimum": 0
                    },
                    "by_event_type": {
                      "type": "array",
                      "description": "Conversion metrics broken down by event type. Spend-derived metrics (ROAS, CPA) are only available at the package/totals level since spend cannot be attributed to individual event types.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "event_type": {
                            "title": "Event Type",
                            "description": "The event type",
                            "type": "string",
                            "enum": [
                              "page_view",
                              "view_content",
                              "select_content",
                              "select_item",
                              "search",
                              "share",
                              "add_to_cart",
                              "remove_from_cart",
                              "viewed_cart",
                              "add_to_wishlist",
                              "initiate_checkout",
                              "add_payment_info",
                              "purchase",
                              "refund",
                              "lead",
                              "qualify_lead",
                              "close_convert_lead",
                              "disqualify_lead",
                              "complete_registration",
                              "subscribe",
                              "start_trial",
                              "app_install",
                              "app_launch",
                              "contact",
                              "schedule",
                              "donate",
                              "submit_application",
                              "custom"
                            ],
                            "enumDescriptions": {
                              "page_view": "User viewed a page",
                              "view_content": "User viewed specific content (product, article, etc.)",
                              "select_content": "User selected or clicked on content (article, video, etc.)",
                              "select_item": "User selected a specific product or item from a list",
                              "search": "User performed a search",
                              "share": "User shared content via social or messaging",
                              "add_to_cart": "User added an item to cart",
                              "remove_from_cart": "User removed an item from cart",
                              "viewed_cart": "User viewed their shopping cart",
                              "add_to_wishlist": "User added an item to a wishlist",
                              "initiate_checkout": "User started checkout process",
                              "add_payment_info": "User added payment information",
                              "purchase": "User completed a purchase",
                              "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                              "lead": "User expressed interest (form submission, signup, etc.)",
                              "qualify_lead": "Lead qualified by sales or scoring criteria",
                              "close_convert_lead": "Lead converted to a customer or closed deal",
                              "disqualify_lead": "Lead disqualified or marked as not viable",
                              "complete_registration": "User completed account registration",
                              "subscribe": "User subscribed to a service or newsletter",
                              "start_trial": "User started a free trial",
                              "app_install": "User installed an application",
                              "app_launch": "User launched an application",
                              "contact": "User initiated contact (call, message, etc.)",
                              "schedule": "User scheduled an appointment or event",
                              "donate": "User made a donation",
                              "submit_application": "User submitted an application (loan, job, etc.)",
                              "custom": "Custom event type (specify in custom_event_name)"
                            }
                          },
                          "event_source_id": {
                            "type": "string",
                            "description": "Event source that produced these conversions (for disambiguation when multiple event sources are configured)"
                          },
                          "count": {
                            "type": "number",
                            "description": "Number of events of this type",
                            "minimum": 0
                          },
                          "value": {
                            "type": "number",
                            "description": "Total monetary value of events of this type",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "event_type",
                          "count"
                        ],
                        "additionalProperties": true
                      }
                    },
                    "grps": {
                      "type": "number",
                      "description": "Gross Rating Points delivered (for CPP)",
                      "minimum": 0
                    },
                    "reach": {
                      "type": "number",
                      "description": "Unique reach - units depend on measurement provider (e.g., individuals, households, devices, cookies). See delivery_measurement.provider for methodology.",
                      "minimum": 0
                    },
                    "frequency": {
                      "type": "number",
                      "description": "Average frequency per individual (typically measured over campaign duration, but can vary by measurement provider)",
                      "minimum": 0
                    },
                    "quartile_data": {
                      "type": "object",
                      "description": "Video quartile completion data",
                      "properties": {
                        "q1_views": {
                          "type": "number",
                          "description": "25% completion views",
                          "minimum": 0
                        },
                        "q2_views": {
                          "type": "number",
                          "description": "50% completion views",
                          "minimum": 0
                        },
                        "q3_views": {
                          "type": "number",
                          "description": "75% completion views",
                          "minimum": 0
                        },
                        "q4_views": {
                          "type": "number",
                          "description": "100% completion views",
                          "minimum": 0
                        }
                      }
                    },
                    "dooh_metrics": {
                      "type": "object",
                      "description": "DOOH-specific metrics (only included for DOOH campaigns)",
                      "properties": {
                        "loop_plays": {
                          "type": "integer",
                          "description": "Number of times ad played in rotation",
                          "minimum": 0
                        },
                        "screens_used": {
                          "type": "integer",
                          "description": "Number of unique screens displaying the ad",
                          "minimum": 0
                        },
                        "screen_time_seconds": {
                          "type": "integer",
                          "description": "Total display time in seconds",
                          "minimum": 0
                        },
                        "sov_achieved": {
                          "type": "number",
                          "description": "Actual share of voice delivered (0.0 to 1.0)",
                          "minimum": 0,
                          "maximum": 1
                        },
                        "calculation_notes": {
                          "type": "string",
                          "description": "Explanation of how DOOH impressions were calculated"
                        },
                        "venue_breakdown": {
                          "type": "array",
                          "description": "Per-venue performance breakdown",
                          "items": {
                            "type": "object",
                            "properties": {
                              "venue_id": {
                                "type": "string",
                                "description": "Venue identifier"
                              },
                              "venue_name": {
                                "type": "string",
                                "description": "Human-readable venue name"
                              },
                              "venue_type": {
                                "type": "string",
                                "description": "Venue type (e.g., 'airport', 'transit', 'retail', 'billboard')"
                              },
                              "impressions": {
                                "type": "integer",
                                "description": "Impressions delivered at this venue",
                                "minimum": 0
                              },
                              "loop_plays": {
                                "type": "integer",
                                "description": "Loop plays at this venue",
                                "minimum": 0
                              },
                              "screens_used": {
                                "type": "integer",
                                "description": "Number of screens used at this venue",
                                "minimum": 0
                              }
                            },
                            "required": [
                              "venue_id",
                              "impressions"
                            ],
                            "additionalProperties": true
                          }
                        }
                      },
                      "additionalProperties": true
                    },
                    "viewability": {
                      "type": "object",
                      "description": "Viewability metrics. Viewable rate should be calculated as viewable_impressions / measurable_impressions (not total impressions), since some environments cannot measure viewability.",
                      "properties": {
                        "measurable_impressions": {
                          "type": "number",
                          "description": "Impressions where viewability could be measured. Excludes environments without measurement capability (e.g., non-Intersection Observer browsers, certain app environments).",
                          "minimum": 0
                        },
                        "viewable_impressions": {
                          "type": "number",
                          "description": "Impressions that met the viewability threshold defined by the measurement standard.",
                          "minimum": 0
                        },
                        "viewable_rate": {
                          "type": "number",
                          "description": "Viewable impression rate (viewable_impressions / measurable_impressions). Range 0.0 to 1.0.",
                          "minimum": 0,
                          "maximum": 1
                        },
                        "standard": {
                          "type": "string",
                          "enum": [
                            "mrc",
                            "groupm"
                          ],
                          "description": "Viewability measurement standard. 'mrc': 50% of pixels in view for 1 second (display) or 2 seconds (video), per MRC/IAB guidelines. 'groupm': 100% of pixels in view for the same durations. These are materially different thresholds and should not be compared across standards."
                        }
                      },
                      "additionalProperties": true
                    },
                    "engagements": {
                      "type": "number",
                      "description": "Total engagements — direct interactions with the ad beyond viewing. Includes social reactions/comments/shares, story/unit opens, interactive overlay taps on CTV, companion banner interactions on audio. Platform-specific; corresponds to the 'engagements' optimization metric.",
                      "minimum": 0
                    },
                    "follows": {
                      "type": "number",
                      "description": "New followers, page likes, artist/podcast/channel subscribes attributed to this delivery.",
                      "minimum": 0
                    },
                    "saves": {
                      "type": "number",
                      "description": "Saves, bookmarks, playlist adds, pins attributed to this delivery.",
                      "minimum": 0
                    },
                    "profile_visits": {
                      "type": "number",
                      "description": "Visits to the brand's in-platform page (profile, artist page, channel, or storefront) attributed to this delivery. Does not include external website clicks.",
                      "minimum": 0
                    },
                    "engagement_rate": {
                      "type": "number",
                      "description": "Platform-specific engagement rate (0.0 to 1.0). Typically engagements/impressions, but definition varies by platform.",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "cost_per_click": {
                      "type": "number",
                      "description": "Cost per click (spend / clicks)",
                      "minimum": 0
                    },
                    "by_action_source": {
                      "type": "array",
                      "description": "Conversion metrics broken down by action source (website, app, in_store, etc.). Useful for omnichannel sellers where conversions occur across digital and physical channels.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "action_source": {
                            "title": "Action Source",
                            "description": "Where the conversion occurred",
                            "type": "string",
                            "enum": [
                              "website",
                              "app",
                              "offline",
                              "phone_call",
                              "chat",
                              "email",
                              "in_store",
                              "system_generated",
                              "other"
                            ],
                            "enumDescriptions": {
                              "website": "Event occurred on a website",
                              "app": "Event occurred in a mobile or desktop app",
                              "offline": "Event occurred offline (imported data)",
                              "phone_call": "Event originated from a phone call",
                              "chat": "Event originated from a chat conversation",
                              "email": "Event originated from an email interaction",
                              "in_store": "Event occurred at a physical retail location",
                              "system_generated": "Event generated by an automated system",
                              "other": "Other source (specify in ext)"
                            }
                          },
                          "event_source_id": {
                            "type": "string",
                            "description": "Event source that produced these conversions (for disambiguation when multiple event sources are configured)"
                          },
                          "count": {
                            "type": "number",
                            "description": "Number of conversions from this action source",
                            "minimum": 0
                          },
                          "value": {
                            "type": "number",
                            "description": "Total monetary value of conversions from this action source",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "action_source",
                          "count"
                        ],
                        "additionalProperties": true
                      }
                    }
                  },
                  "additionalProperties": true
                },
                {
                  "properties": {
                    "variant_id": {
                      "type": "string",
                      "description": "Platform-assigned identifier for this variant"
                    },
                    "manifest": {
                      "title": "Creative Manifest",
                      "description": "The rendered creative manifest for this variant — the actual output that was served, not the input assets. Contains format_id and the resolved assets (specific headline, image, video, etc. the platform selected or generated). For Tier 2, shows which asset combination was picked. For Tier 3, contains the generated assets which may differ entirely from the input brand identity. Pass to preview_creative to re-render.",
                      "type": "object",
                      "properties": {
                        "format_id": {
                          "title": "Format ID",
                          "description": "Format identifier this manifest is for. Can be a template format (id only) or a deterministic format (id + dimensions/duration). For dimension-specific creatives, include width/height/unit in the format_id to create a unique identifier (e.g., {id: 'display_static', width: 300, height: 250, unit: 'px'}).",
                          "type": "object",
                          "properties": {
                            "agent_url": {
                              "type": "string",
                              "format": "uri",
                              "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                            },
                            "id": {
                              "type": "string",
                              "pattern": "^[a-zA-Z0-9_-]+$",
                              "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                            },
                            "width": {
                              "type": "integer",
                              "minimum": 1,
                              "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                            },
                            "height": {
                              "type": "integer",
                              "minimum": 1,
                              "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                            },
                            "duration_ms": {
                              "type": "number",
                              "minimum": 1,
                              "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                            }
                          },
                          "required": [
                            "agent_url",
                            "id"
                          ],
                          "additionalProperties": true,
                          "dependencies": {
                            "width": [
                              "height"
                            ],
                            "height": [
                              "width"
                            ]
                          }
                        },
                        "catalogs": {
                          "type": "array",
                          "description": "Catalogs this creative renders. Each entry satisfies one of the format's catalog_requirements, matched by type. Tells the creative what data to display — product listings for a carousel, job vacancies for a recruitment ad, store locations for a locator. This is a data reference, not a campaign expansion directive; campaign structure and budget allocation are handled by create_media_buy packages. Each catalog can be inline (with items), a reference to a synced catalog (by catalog_id), or a URL to an external feed.",
                          "items": {
                            "title": "Catalog",
                            "description": "A typed data feed. Catalogs carry the items, locations, stock levels, or pricing that publishers use to render ads. They can be synced to a platform via sync_catalogs (managed lifecycle with approval), provided inline, or fetched from an external URL. The catalog type determines the item schema and can be structural (offering, product, inventory, store, promotion) or vertical-specific (hotel, flight, job, vehicle, real_estate, education, destination, app). Selectors (ids, tags, category, query) filter items regardless of sourcing method.",
                            "type": "object",
                            "properties": {
                              "catalog_id": {
                                "type": "string",
                                "description": "Buyer's identifier for this catalog. Required when syncing via sync_catalogs. When used in creatives, references a previously synced catalog on the account."
                              },
                              "name": {
                                "type": "string",
                                "description": "Human-readable name for this catalog (e.g., 'Summer Products 2025', 'Amsterdam Store Locations')."
                              },
                              "type": {
                                "title": "Catalog Type",
                                "description": "Catalog type. Structural types: 'offering' (AdCP Offering objects), 'product' (ecommerce entries), 'inventory' (stock per location), 'store' (physical locations), 'promotion' (deals and pricing). Vertical types: 'hotel', 'flight', 'job', 'vehicle', 'real_estate', 'education', 'destination', 'app' — each with an industry-specific item schema.",
                                "type": "string",
                                "enum": [
                                  "offering",
                                  "product",
                                  "inventory",
                                  "store",
                                  "promotion",
                                  "hotel",
                                  "flight",
                                  "job",
                                  "vehicle",
                                  "real_estate",
                                  "education",
                                  "destination",
                                  "app"
                                ]
                              },
                              "url": {
                                "type": "string",
                                "format": "uri",
                                "description": "URL to an external catalog feed. The platform fetches and resolves items from this URL. For offering-type catalogs, the feed contains an array of Offering objects. For other types, the feed format is determined by feed_format. When omitted with type 'product', the platform uses its synced copy of the brand's product catalog."
                              },
                              "feed_format": {
                                "title": "Feed Format",
                                "description": "Format of the external feed at url. Required when url points to a non-AdCP feed (e.g., Google Merchant Center XML, Meta Product Catalog). Omit for offering-type catalogs where the feed is native AdCP JSON.",
                                "type": "string",
                                "enum": [
                                  "google_merchant_center",
                                  "facebook_catalog",
                                  "shopify",
                                  "linkedin_jobs",
                                  "custom"
                                ]
                              },
                              "update_frequency": {
                                "title": "Update Frequency",
                                "description": "How often the platform should re-fetch the feed from url. Only applicable when url is provided. Platforms may use this as a hint for polling schedules.",
                                "type": "string",
                                "enum": [
                                  "realtime",
                                  "hourly",
                                  "daily",
                                  "weekly"
                                ]
                              },
                              "items": {
                                "type": "array",
                                "description": "Inline catalog data. The item schema depends on the catalog type: Offering objects for 'offering', StoreItem for 'store', HotelItem for 'hotel', FlightItem for 'flight', JobItem for 'job', VehicleItem for 'vehicle', RealEstateItem for 'real_estate', EducationItem for 'education', DestinationItem for 'destination', AppItem for 'app', or freeform objects for 'product', 'inventory', and 'promotion'. Mutually exclusive with url — provide one or the other, not both. Implementations should validate items against the type-specific schema.",
                                "items": {
                                  "type": "object"
                                },
                                "minItems": 1
                              },
                              "ids": {
                                "type": "array",
                                "description": "Filter catalog to specific item IDs. For offering-type catalogs, these are offering_id values. For product-type catalogs, these are SKU identifiers.",
                                "items": {
                                  "type": "string"
                                },
                                "minItems": 1
                              },
                              "gtins": {
                                "type": "array",
                                "description": "Filter product-type catalogs by GTIN identifiers for cross-retailer catalog matching. Accepts standard GTIN formats (GTIN-8, UPC-A/GTIN-12, EAN-13/GTIN-13, GTIN-14). Only applicable when type is 'product'.",
                                "items": {
                                  "type": "string",
                                  "pattern": "^[0-9]{8,14}$"
                                },
                                "minItems": 1
                              },
                              "tags": {
                                "type": "array",
                                "description": "Filter catalog to items with these tags. Tags are matched using OR logic — items matching any tag are included.",
                                "items": {
                                  "type": "string"
                                },
                                "minItems": 1
                              },
                              "category": {
                                "type": "string",
                                "description": "Filter catalog to items in this category (e.g., 'beverages/soft-drinks', 'chef-positions')."
                              },
                              "query": {
                                "type": "string",
                                "description": "Natural language filter for catalog items (e.g., 'all pasta sauces under $5', 'amsterdam vacancies')."
                              },
                              "conversion_events": {
                                "type": "array",
                                "description": "Event types that represent conversions for items in this catalog. Declares what events the platform should attribute to catalog items — e.g., a job catalog converts via submit_application, a product catalog via purchase. The event's content_ids field carries the item IDs that connect back to catalog items. Use content_id_type to declare what identifier type content_ids values represent.",
                                "items": {
                                  "title": "Event Type",
                                  "description": "Standard marketing event types for event logging, aligned with IAB ECAPI",
                                  "type": "string",
                                  "enum": [
                                    "page_view",
                                    "view_content",
                                    "select_content",
                                    "select_item",
                                    "search",
                                    "share",
                                    "add_to_cart",
                                    "remove_from_cart",
                                    "viewed_cart",
                                    "add_to_wishlist",
                                    "initiate_checkout",
                                    "add_payment_info",
                                    "purchase",
                                    "refund",
                                    "lead",
                                    "qualify_lead",
                                    "close_convert_lead",
                                    "disqualify_lead",
                                    "complete_registration",
                                    "subscribe",
                                    "start_trial",
                                    "app_install",
                                    "app_launch",
                                    "contact",
                                    "schedule",
                                    "donate",
                                    "submit_application",
                                    "custom"
                                  ],
                                  "enumDescriptions": {
                                    "page_view": "User viewed a page",
                                    "view_content": "User viewed specific content (product, article, etc.)",
                                    "select_content": "User selected or clicked on content (article, video, etc.)",
                                    "select_item": "User selected a specific product or item from a list",
                                    "search": "User performed a search",
                                    "share": "User shared content via social or messaging",
                                    "add_to_cart": "User added an item to cart",
                                    "remove_from_cart": "User removed an item from cart",
                                    "viewed_cart": "User viewed their shopping cart",
                                    "add_to_wishlist": "User added an item to a wishlist",
                                    "initiate_checkout": "User started checkout process",
                                    "add_payment_info": "User added payment information",
                                    "purchase": "User completed a purchase",
                                    "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                                    "lead": "User expressed interest (form submission, signup, etc.)",
                                    "qualify_lead": "Lead qualified by sales or scoring criteria",
                                    "close_convert_lead": "Lead converted to a customer or closed deal",
                                    "disqualify_lead": "Lead disqualified or marked as not viable",
                                    "complete_registration": "User completed account registration",
                                    "subscribe": "User subscribed to a service or newsletter",
                                    "start_trial": "User started a free trial",
                                    "app_install": "User installed an application",
                                    "app_launch": "User launched an application",
                                    "contact": "User initiated contact (call, message, etc.)",
                                    "schedule": "User scheduled an appointment or event",
                                    "donate": "User made a donation",
                                    "submit_application": "User submitted an application (loan, job, etc.)",
                                    "custom": "Custom event type (specify in custom_event_name)"
                                  }
                                },
                                "minItems": 1,
                                "uniqueItems": true
                              },
                              "content_id_type": {
                                "title": "Content ID Type",
                                "description": "Identifier type that the event's content_ids field should be matched against for items in this catalog. For example, 'gtin' means content_ids values are Global Trade Item Numbers, 'sku' means retailer SKUs. Omit when using a custom identifier scheme not listed in the enum.",
                                "type": "string",
                                "enum": [
                                  "sku",
                                  "gtin",
                                  "offering_id",
                                  "job_id",
                                  "hotel_id",
                                  "flight_id",
                                  "vehicle_id",
                                  "listing_id",
                                  "store_id",
                                  "program_id",
                                  "destination_id",
                                  "app_id"
                                ]
                              },
                              "feed_field_mappings": {
                                "type": "array",
                                "description": "Declarative normalization rules for external feeds. Maps non-standard feed field names, date formats, price encodings, and image URLs to the AdCP catalog item schema. Applied during sync_catalogs ingestion. Supports field renames, named transforms (date, divide, boolean, split), static literal injection, and assignment of image URLs to typed asset pools.",
                                "items": {
                                  "title": "Catalog Field Mapping",
                                  "description": "Declares how a field in an external feed maps to the AdCP catalog item schema. Used in sync_catalogs feed_field_mappings to normalize non-AdCP feeds (Google Merchant Center, LinkedIn Jobs XML, hotel XML, etc.) to the standard catalog item schema without requiring the buyer to preprocess every feed. Multiple mappings can assemble a nested object via dot notation (e.g., separate mappings for price.amount and price.currency).",
                                  "type": "object",
                                  "properties": {
                                    "feed_field": {
                                      "type": "string",
                                      "description": "Field name in the external feed record. Omit when injecting a static literal value (use the value property instead)."
                                    },
                                    "catalog_field": {
                                      "type": "string",
                                      "description": "Target field on the catalog item schema, using dot notation for nested fields (e.g., 'name', 'price.amount', 'location.city'). Mutually exclusive with asset_group_id."
                                    },
                                    "asset_group_id": {
                                      "type": "string",
                                      "description": "Places the feed field value (a URL) into a typed asset pool on the catalog item's assets array. The value is wrapped as an image or video asset in a group with this ID. Use standard group IDs: 'images_landscape', 'images_vertical', 'images_square', 'logo', 'video'. Mutually exclusive with catalog_field."
                                    },
                                    "value": {
                                      "description": "Static literal value to inject into catalog_field for every item, regardless of what the feed contains. Mutually exclusive with feed_field. Useful for fields the feed omits (e.g., currency when price is always USD, or a constant category value)."
                                    },
                                    "transform": {
                                      "type": "string",
                                      "description": "Named transform to apply to the feed field value before writing to the catalog schema. See transform-specific parameters (format, timezone, by, separator).",
                                      "enum": [
                                        "date",
                                        "divide",
                                        "boolean",
                                        "split"
                                      ]
                                    },
                                    "format": {
                                      "type": "string",
                                      "description": "For transform 'date': the input date format string (e.g., 'YYYYMMDD', 'MM/DD/YYYY', 'DD-MM-YYYY'). Output is always ISO 8601 (e.g., '2025-03-01'). Uses Unicode date pattern tokens."
                                    },
                                    "timezone": {
                                      "type": "string",
                                      "description": "For transform 'date': the timezone of the input value. IANA timezone identifier (e.g., 'UTC', 'America/New_York', 'Europe/Amsterdam'). Defaults to UTC when omitted."
                                    },
                                    "by": {
                                      "type": "number",
                                      "description": "For transform 'divide': the divisor to apply (e.g., 100 to convert integer cents to decimal dollars).",
                                      "exclusiveMinimum": 0
                                    },
                                    "separator": {
                                      "type": "string",
                                      "description": "For transform 'split': the separator character or string to split on. Defaults to ','.",
                                      "default": ","
                                    },
                                    "default": {
                                      "description": "Fallback value to use when feed_field is absent, null, or empty. Applied after any transform would have been applied. Allows optional feed fields to have a guaranteed baseline value."
                                    },
                                    "ext": {
                                      "title": "Extension Object",
                                      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                                      "type": "object",
                                      "additionalProperties": true
                                    }
                                  },
                                  "allOf": [
                                    {
                                      "not": {
                                        "required": [
                                          "feed_field",
                                          "value"
                                        ]
                                      }
                                    },
                                    {
                                      "not": {
                                        "required": [
                                          "catalog_field",
                                          "asset_group_id"
                                        ]
                                      }
                                    }
                                  ],
                                  "additionalProperties": true,
                                  "examples": [
                                    {
                                      "description": "Simple field rename",
                                      "data": {
                                        "feed_field": "hotel_name",
                                        "catalog_field": "name"
                                      }
                                    },
                                    {
                                      "description": "Date format transform — YYYYMMDD to ISO 8601",
                                      "data": {
                                        "feed_field": "available_from",
                                        "catalog_field": "valid_from",
                                        "transform": "date",
                                        "format": "YYYYMMDD",
                                        "timezone": "UTC"
                                      }
                                    },
                                    {
                                      "description": "Divide cents to dollars",
                                      "data": {
                                        "feed_field": "price_cents",
                                        "catalog_field": "price.amount",
                                        "transform": "divide",
                                        "by": 100
                                      }
                                    },
                                    {
                                      "description": "Static literal injection — currency not in feed",
                                      "data": {
                                        "catalog_field": "price.currency",
                                        "value": "USD"
                                      }
                                    },
                                    {
                                      "description": "Image URL assigned to typed asset pool",
                                      "data": {
                                        "feed_field": "primary_photo_url",
                                        "asset_group_id": "images_landscape"
                                      }
                                    },
                                    {
                                      "description": "Vertical photo URL assigned to vertical pool",
                                      "data": {
                                        "feed_field": "portrait_photo_url",
                                        "asset_group_id": "images_vertical"
                                      }
                                    },
                                    {
                                      "description": "Split comma-separated tags to array",
                                      "data": {
                                        "feed_field": "amenity_list",
                                        "catalog_field": "amenities",
                                        "transform": "split",
                                        "separator": ","
                                      }
                                    },
                                    {
                                      "description": "Boolean coercion with default",
                                      "data": {
                                        "feed_field": "is_available",
                                        "catalog_field": "available",
                                        "transform": "boolean",
                                        "default": false
                                      }
                                    }
                                  ]
                                },
                                "minItems": 1
                              }
                            },
                            "required": [
                              "type"
                            ],
                            "additionalProperties": true,
                            "examples": [
                              {
                                "description": "Synced product catalog from Google Merchant Center",
                                "data": {
                                  "catalog_id": "gmc-primary",
                                  "name": "Primary Product Feed",
                                  "type": "product",
                                  "url": "https://feeds.acmecorp.com/products.xml",
                                  "feed_format": "google_merchant_center",
                                  "update_frequency": "daily"
                                }
                              },
                              {
                                "description": "Inventory feed for store-level stock data",
                                "data": {
                                  "catalog_id": "store-inventory",
                                  "name": "Store Inventory",
                                  "type": "inventory",
                                  "url": "https://feeds.acmecorp.com/inventory.json",
                                  "feed_format": "custom",
                                  "update_frequency": "hourly"
                                }
                              },
                              {
                                "description": "Store locator feed",
                                "data": {
                                  "catalog_id": "retail-locations",
                                  "name": "Retail Locations",
                                  "type": "store",
                                  "url": "https://feeds.acmecorp.com/stores.json",
                                  "feed_format": "custom",
                                  "update_frequency": "weekly"
                                }
                              },
                              {
                                "description": "Promotional pricing feed",
                                "data": {
                                  "catalog_id": "summer-sale",
                                  "name": "Summer Sale Promotions",
                                  "type": "promotion",
                                  "url": "https://feeds.acmecorp.com/promotions.json",
                                  "feed_format": "google_merchant_center",
                                  "update_frequency": "daily"
                                }
                              },
                              {
                                "description": "Inline offering catalog (no sync needed)",
                                "data": {
                                  "type": "offering",
                                  "items": [
                                    {
                                      "offering_id": "summer-sale",
                                      "name": "Summer Sale",
                                      "landing_url": "https://acme.com/summer"
                                    }
                                  ]
                                }
                              },
                              {
                                "description": "Reference to a previously synced catalog by ID",
                                "data": {
                                  "catalog_id": "gmc-primary",
                                  "type": "product",
                                  "ids": [
                                    "SKU-12345",
                                    "SKU-67890"
                                  ]
                                }
                              },
                              {
                                "description": "Product catalog with GTIN cross-retailer matching and attribution",
                                "data": {
                                  "type": "product",
                                  "gtins": [
                                    "00013000006040",
                                    "00013000006057"
                                  ],
                                  "content_id_type": "gtin",
                                  "conversion_events": [
                                    "purchase",
                                    "add_to_cart"
                                  ]
                                }
                              },
                              {
                                "description": "Inline store catalog with catchment areas",
                                "data": {
                                  "catalog_id": "retail-locations",
                                  "name": "Retail Locations",
                                  "type": "store",
                                  "items": [
                                    {
                                      "store_id": "amsterdam-flagship",
                                      "name": "Amsterdam Flagship",
                                      "location": {
                                        "lat": 52.3676,
                                        "lng": 4.9041
                                      },
                                      "catchments": [
                                        {
                                          "catchment_id": "walk",
                                          "travel_time": {
                                            "value": 10,
                                            "unit": "min"
                                          },
                                          "transport_mode": "walking"
                                        },
                                        {
                                          "catchment_id": "drive",
                                          "travel_time": {
                                            "value": 15,
                                            "unit": "min"
                                          },
                                          "transport_mode": "driving"
                                        }
                                      ]
                                    }
                                  ]
                                }
                              }
                            ]
                          },
                          "minItems": 1
                        },
                        "assets": {
                          "type": "object",
                          "description": "Map of asset IDs to actual asset content. Each key MUST match an asset_id from the format's assets array (e.g., 'banner_image', 'clickthrough_url', 'video_file', 'vast_tag'). The asset_id is the technical identifier used to match assets to format requirements.\n\nIMPORTANT: Full validation requires format context. The format defines what type each asset_id should be. Standalone schema validation only checks structural conformance — each asset must match at least one valid asset type schema.",
                          "patternProperties": {
                            "^[a-z0-9_]+$": {
                              "anyOf": [
                                {
                                  "title": "Image Asset",
                                  "description": "Image asset with URL and dimensions",
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to the image asset"
                                    },
                                    "width": {
                                      "type": "integer",
                                      "minimum": 1,
                                      "description": "Width in pixels"
                                    },
                                    "height": {
                                      "type": "integer",
                                      "minimum": 1,
                                      "description": "Height in pixels"
                                    },
                                    "format": {
                                      "type": "string",
                                      "description": "Image file format (jpg, png, gif, webp, etc.)"
                                    },
                                    "alt_text": {
                                      "type": "string",
                                      "description": "Alternative text for accessibility",
                                      "x-accessibility": true
                                    }
                                  },
                                  "required": [
                                    "url",
                                    "width",
                                    "height"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "Video Asset",
                                  "description": "Video asset with URL and technical specifications including audio track properties",
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to the video asset"
                                    },
                                    "width": {
                                      "type": "integer",
                                      "minimum": 1,
                                      "description": "Width in pixels"
                                    },
                                    "height": {
                                      "type": "integer",
                                      "minimum": 1,
                                      "description": "Height in pixels"
                                    },
                                    "duration_ms": {
                                      "type": "integer",
                                      "description": "Video duration in milliseconds",
                                      "minimum": 1
                                    },
                                    "file_size_bytes": {
                                      "type": "integer",
                                      "description": "File size in bytes",
                                      "minimum": 1
                                    },
                                    "container_format": {
                                      "type": "string",
                                      "description": "Video container format (mp4, webm, mov, etc.)"
                                    },
                                    "video_codec": {
                                      "type": "string",
                                      "description": "Video codec used (h264, h265, vp9, av1, prores, etc.)"
                                    },
                                    "video_bitrate_kbps": {
                                      "type": "integer",
                                      "description": "Video stream bitrate in kilobits per second",
                                      "minimum": 1
                                    },
                                    "frame_rate": {
                                      "type": "string",
                                      "description": "Frame rate as string to preserve precision (e.g., '23.976', '29.97', '30')"
                                    },
                                    "frame_rate_type": {
                                      "type": "string",
                                      "enum": [
                                        "constant",
                                        "variable"
                                      ],
                                      "description": "Whether the video uses constant (CFR) or variable (VFR) frame rate"
                                    },
                                    "scan_type": {
                                      "type": "string",
                                      "enum": [
                                        "progressive",
                                        "interlaced"
                                      ],
                                      "description": "Scan type of the video"
                                    },
                                    "color_space": {
                                      "type": "string",
                                      "enum": [
                                        "rec709",
                                        "rec2020",
                                        "rec2100",
                                        "srgb",
                                        "dci_p3"
                                      ],
                                      "description": "Color space of the video"
                                    },
                                    "hdr_format": {
                                      "type": "string",
                                      "enum": [
                                        "sdr",
                                        "hdr10",
                                        "hdr10_plus",
                                        "hlg",
                                        "dolby_vision"
                                      ],
                                      "description": "HDR format if applicable, or 'sdr' for standard dynamic range"
                                    },
                                    "chroma_subsampling": {
                                      "type": "string",
                                      "enum": [
                                        "4:2:0",
                                        "4:2:2",
                                        "4:4:4"
                                      ],
                                      "description": "Chroma subsampling format"
                                    },
                                    "video_bit_depth": {
                                      "type": "integer",
                                      "enum": [
                                        8,
                                        10,
                                        12
                                      ],
                                      "description": "Video bit depth"
                                    },
                                    "gop_interval_seconds": {
                                      "type": "number",
                                      "description": "GOP/keyframe interval in seconds"
                                    },
                                    "gop_type": {
                                      "type": "string",
                                      "enum": [
                                        "closed",
                                        "open"
                                      ],
                                      "description": "GOP structure type"
                                    },
                                    "moov_atom_position": {
                                      "type": "string",
                                      "enum": [
                                        "start",
                                        "end"
                                      ],
                                      "description": "Position of moov atom in MP4 container"
                                    },
                                    "has_audio": {
                                      "type": "boolean",
                                      "description": "Whether the video contains an audio track"
                                    },
                                    "audio_codec": {
                                      "type": "string",
                                      "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, ac3, eac3, etc.)"
                                    },
                                    "audio_sampling_rate_hz": {
                                      "type": "integer",
                                      "description": "Audio sampling rate in Hz (e.g., 44100, 48000)"
                                    },
                                    "audio_channels": {
                                      "type": "string",
                                      "enum": [
                                        "mono",
                                        "stereo",
                                        "5.1",
                                        "7.1"
                                      ],
                                      "description": "Audio channel configuration"
                                    },
                                    "audio_bit_depth": {
                                      "type": "integer",
                                      "enum": [
                                        16,
                                        24,
                                        32
                                      ],
                                      "description": "Audio bit depth"
                                    },
                                    "audio_bitrate_kbps": {
                                      "type": "integer",
                                      "description": "Audio bitrate in kilobits per second",
                                      "minimum": 1
                                    },
                                    "audio_loudness_lufs": {
                                      "type": "number",
                                      "description": "Integrated loudness in LUFS"
                                    },
                                    "audio_true_peak_dbfs": {
                                      "type": "number",
                                      "description": "True peak level in dBFS"
                                    },
                                    "captions_url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to captions file (WebVTT, SRT, etc.)",
                                      "x-accessibility": true
                                    },
                                    "transcript_url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to text transcript of the video content",
                                      "x-accessibility": true
                                    },
                                    "audio_description_url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to audio description track for visually impaired users",
                                      "x-accessibility": true
                                    }
                                  },
                                  "required": [
                                    "url",
                                    "width",
                                    "height"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "Audio Asset",
                                  "description": "Audio asset with URL and technical specifications",
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to the audio asset"
                                    },
                                    "duration_ms": {
                                      "type": "integer",
                                      "description": "Audio duration in milliseconds",
                                      "minimum": 0
                                    },
                                    "file_size_bytes": {
                                      "type": "integer",
                                      "description": "File size in bytes",
                                      "minimum": 1
                                    },
                                    "container_format": {
                                      "type": "string",
                                      "description": "Audio container/file format (mp3, m4a, aac, wav, ogg, flac, etc.)"
                                    },
                                    "codec": {
                                      "type": "string",
                                      "description": "Audio codec used (aac, aac_lc, he_aac, pcm, mp3, vorbis, opus, flac, ac3, eac3, etc.)"
                                    },
                                    "sampling_rate_hz": {
                                      "type": "integer",
                                      "description": "Sampling rate in Hz (e.g., 44100, 48000, 96000)"
                                    },
                                    "channels": {
                                      "type": "string",
                                      "enum": [
                                        "mono",
                                        "stereo",
                                        "5.1",
                                        "7.1"
                                      ],
                                      "description": "Channel configuration"
                                    },
                                    "bit_depth": {
                                      "type": "integer",
                                      "enum": [
                                        16,
                                        24,
                                        32
                                      ],
                                      "description": "Bit depth"
                                    },
                                    "bitrate_kbps": {
                                      "type": "integer",
                                      "description": "Bitrate in kilobits per second",
                                      "minimum": 1
                                    },
                                    "loudness_lufs": {
                                      "type": "number",
                                      "description": "Integrated loudness in LUFS"
                                    },
                                    "true_peak_dbfs": {
                                      "type": "number",
                                      "description": "True peak level in dBFS"
                                    },
                                    "transcript_url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL to text transcript of the audio content",
                                      "x-accessibility": true
                                    }
                                  },
                                  "required": [
                                    "url"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "VAST Asset",
                                  "description": "VAST (Video Ad Serving Template) tag for third-party video ad serving",
                                  "oneOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "delivery_type": {
                                          "type": "string",
                                          "const": "url",
                                          "description": "Discriminator indicating VAST is delivered via URL endpoint"
                                        },
                                        "url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL endpoint that returns VAST XML"
                                        },
                                        "vast_version": {
                                          "title": "VAST Version",
                                          "description": "VAST specification version",
                                          "type": "string",
                                          "enum": [
                                            "2.0",
                                            "3.0",
                                            "4.0",
                                            "4.1",
                                            "4.2"
                                          ]
                                        },
                                        "vpaid_enabled": {
                                          "type": "boolean",
                                          "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                                        },
                                        "duration_ms": {
                                          "type": "integer",
                                          "description": "Expected video duration in milliseconds (if known)",
                                          "minimum": 0
                                        },
                                        "tracking_events": {
                                          "type": "array",
                                          "items": {
                                            "title": "VAST Tracking Event",
                                            "description": "Standard VAST tracking events for video ad playback and interaction",
                                            "type": "string",
                                            "enum": [
                                              "start",
                                              "firstQuartile",
                                              "midpoint",
                                              "thirdQuartile",
                                              "complete",
                                              "impression",
                                              "click",
                                              "pause",
                                              "resume",
                                              "skip",
                                              "mute",
                                              "unmute",
                                              "fullscreen",
                                              "exitFullscreen",
                                              "playerExpand",
                                              "playerCollapse"
                                            ]
                                          },
                                          "description": "Tracking events supported by this VAST tag"
                                        },
                                        "captions_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to captions file (WebVTT, SRT, etc.)",
                                          "x-accessibility": true
                                        },
                                        "audio_description_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to audio description track for visually impaired users",
                                          "x-accessibility": true
                                        }
                                      },
                                      "required": [
                                        "delivery_type",
                                        "url"
                                      ],
                                      "additionalProperties": true
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "delivery_type": {
                                          "type": "string",
                                          "const": "inline",
                                          "description": "Discriminator indicating VAST is delivered as inline XML content"
                                        },
                                        "content": {
                                          "type": "string",
                                          "description": "Inline VAST XML content"
                                        },
                                        "vast_version": {
                                          "title": "VAST Version",
                                          "description": "VAST specification version",
                                          "type": "string",
                                          "enum": [
                                            "2.0",
                                            "3.0",
                                            "4.0",
                                            "4.1",
                                            "4.2"
                                          ]
                                        },
                                        "vpaid_enabled": {
                                          "type": "boolean",
                                          "description": "Whether VPAID (Video Player-Ad Interface Definition) is supported"
                                        },
                                        "duration_ms": {
                                          "type": "integer",
                                          "description": "Expected video duration in milliseconds (if known)",
                                          "minimum": 0
                                        },
                                        "tracking_events": {
                                          "type": "array",
                                          "items": {
                                            "title": "VAST Tracking Event",
                                            "description": "Standard VAST tracking events for video ad playback and interaction",
                                            "type": "string",
                                            "enum": [
                                              "start",
                                              "firstQuartile",
                                              "midpoint",
                                              "thirdQuartile",
                                              "complete",
                                              "impression",
                                              "click",
                                              "pause",
                                              "resume",
                                              "skip",
                                              "mute",
                                              "unmute",
                                              "fullscreen",
                                              "exitFullscreen",
                                              "playerExpand",
                                              "playerCollapse"
                                            ]
                                          },
                                          "description": "Tracking events supported by this VAST tag"
                                        },
                                        "captions_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to captions file (WebVTT, SRT, etc.)",
                                          "x-accessibility": true
                                        },
                                        "audio_description_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to audio description track for visually impaired users",
                                          "x-accessibility": true
                                        }
                                      },
                                      "required": [
                                        "delivery_type",
                                        "content"
                                      ],
                                      "additionalProperties": true
                                    }
                                  ]
                                },
                                {
                                  "title": "Text Asset",
                                  "description": "Text content asset",
                                  "type": "object",
                                  "properties": {
                                    "content": {
                                      "type": "string",
                                      "description": "Text content"
                                    },
                                    "language": {
                                      "type": "string",
                                      "description": "Language code (e.g., 'en', 'es', 'fr')"
                                    }
                                  },
                                  "required": [
                                    "content"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "URL Asset",
                                  "description": "URL reference asset",
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "URL reference"
                                    },
                                    "url_type": {
                                      "title": "URL Asset Type",
                                      "description": "Type of URL asset: 'clickthrough' for user click destination (landing page), 'tracker_pixel' for impression/event tracking via HTTP request (fires GET, expects pixel/204 response), 'tracker_script' for measurement SDKs that must load as <script> tag (OMID verification, native event trackers using method:2)",
                                      "type": "string",
                                      "enum": [
                                        "clickthrough",
                                        "tracker_pixel",
                                        "tracker_script"
                                      ]
                                    },
                                    "description": {
                                      "type": "string",
                                      "description": "Description of what this URL points to"
                                    }
                                  },
                                  "required": [
                                    "url"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "HTML Asset",
                                  "description": "HTML content asset",
                                  "type": "object",
                                  "properties": {
                                    "content": {
                                      "type": "string",
                                      "description": "HTML content"
                                    },
                                    "version": {
                                      "type": "string",
                                      "description": "HTML version (e.g., 'HTML5')"
                                    },
                                    "accessibility": {
                                      "type": "object",
                                      "description": "Self-declared accessibility properties for this opaque creative",
                                      "x-accessibility": true,
                                      "properties": {
                                        "alt_text": {
                                          "type": "string",
                                          "description": "Text alternative describing the creative content"
                                        },
                                        "keyboard_navigable": {
                                          "type": "boolean",
                                          "description": "Whether the creative can be fully operated via keyboard"
                                        },
                                        "motion_control": {
                                          "type": "boolean",
                                          "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                                        },
                                        "screen_reader_tested": {
                                          "type": "boolean",
                                          "description": "Whether the creative has been tested with screen readers"
                                        }
                                      }
                                    }
                                  },
                                  "required": [
                                    "content"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "JavaScript Asset",
                                  "description": "JavaScript code asset",
                                  "type": "object",
                                  "properties": {
                                    "content": {
                                      "type": "string",
                                      "description": "JavaScript content"
                                    },
                                    "module_type": {
                                      "title": "JavaScript Module Type",
                                      "description": "JavaScript module type",
                                      "type": "string",
                                      "enum": [
                                        "esm",
                                        "commonjs",
                                        "script"
                                      ]
                                    },
                                    "accessibility": {
                                      "type": "object",
                                      "description": "Self-declared accessibility properties for this opaque creative",
                                      "x-accessibility": true,
                                      "properties": {
                                        "alt_text": {
                                          "type": "string",
                                          "description": "Text alternative describing the creative content"
                                        },
                                        "keyboard_navigable": {
                                          "type": "boolean",
                                          "description": "Whether the creative can be fully operated via keyboard"
                                        },
                                        "motion_control": {
                                          "type": "boolean",
                                          "description": "Whether the creative respects prefers-reduced-motion or provides pause/stop controls"
                                        },
                                        "screen_reader_tested": {
                                          "type": "boolean",
                                          "description": "Whether the creative has been tested with screen readers"
                                        }
                                      }
                                    }
                                  },
                                  "required": [
                                    "content"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "Webhook Asset",
                                  "description": "Webhook for server-side dynamic content rendering (DCO)",
                                  "type": "object",
                                  "properties": {
                                    "url": {
                                      "type": "string",
                                      "format": "uri",
                                      "description": "Webhook URL to call for dynamic content"
                                    },
                                    "method": {
                                      "title": "HTTP Method",
                                      "description": "HTTP method",
                                      "type": "string",
                                      "enum": [
                                        "GET",
                                        "POST"
                                      ],
                                      "default": "POST"
                                    },
                                    "timeout_ms": {
                                      "type": "integer",
                                      "minimum": 10,
                                      "maximum": 5000,
                                      "default": 500,
                                      "description": "Maximum time to wait for response in milliseconds"
                                    },
                                    "supported_macros": {
                                      "type": "array",
                                      "items": {
                                        "oneOf": [
                                          {
                                            "title": "Universal Macro",
                                            "description": "Standardized macro placeholders for dynamic value substitution in creative tracking URLs. Macros are replaced with actual values at impression time. See docs/creative/universal-macros.mdx for detailed documentation.",
                                            "type": "string",
                                            "enum": [
                                              "MEDIA_BUY_ID",
                                              "PACKAGE_ID",
                                              "CREATIVE_ID",
                                              "CACHEBUSTER",
                                              "TIMESTAMP",
                                              "CLICK_URL",
                                              "GDPR",
                                              "GDPR_CONSENT",
                                              "US_PRIVACY",
                                              "GPP_STRING",
                                              "GPP_SID",
                                              "IP_ADDRESS",
                                              "LIMIT_AD_TRACKING",
                                              "DEVICE_TYPE",
                                              "OS",
                                              "OS_VERSION",
                                              "DEVICE_MAKE",
                                              "DEVICE_MODEL",
                                              "USER_AGENT",
                                              "APP_BUNDLE",
                                              "APP_NAME",
                                              "COUNTRY",
                                              "REGION",
                                              "CITY",
                                              "ZIP",
                                              "DMA",
                                              "LAT",
                                              "LONG",
                                              "DEVICE_ID",
                                              "DEVICE_ID_TYPE",
                                              "DOMAIN",
                                              "PAGE_URL",
                                              "REFERRER",
                                              "KEYWORDS",
                                              "PLACEMENT_ID",
                                              "FOLD_POSITION",
                                              "AD_WIDTH",
                                              "AD_HEIGHT",
                                              "VIDEO_ID",
                                              "VIDEO_TITLE",
                                              "VIDEO_DURATION",
                                              "VIDEO_CATEGORY",
                                              "CONTENT_GENRE",
                                              "CONTENT_RATING",
                                              "PLAYER_WIDTH",
                                              "PLAYER_HEIGHT",
                                              "POD_POSITION",
                                              "POD_SIZE",
                                              "AD_BREAK_ID",
                                              "STATION_ID",
                                              "SHOW_NAME",
                                              "EPISODE_ID",
                                              "AUDIO_DURATION",
                                              "AXEM",
                                              "CATALOG_ID",
                                              "SKU",
                                              "GTIN",
                                              "OFFERING_ID",
                                              "JOB_ID",
                                              "HOTEL_ID",
                                              "FLIGHT_ID",
                                              "VEHICLE_ID",
                                              "LISTING_ID",
                                              "STORE_ID",
                                              "PROGRAM_ID",
                                              "DESTINATION_ID",
                                              "CREATIVE_VARIANT_ID",
                                              "APP_ITEM_ID"
                                            ],
                                            "enumDescriptions": {
                                              "MEDIA_BUY_ID": "AdCP media buy identifier",
                                              "PACKAGE_ID": "AdCP package identifier",
                                              "CREATIVE_ID": "AdCP creative identifier",
                                              "CACHEBUSTER": "Random number to prevent caching",
                                              "TIMESTAMP": "Unix timestamp in milliseconds",
                                              "CLICK_URL": "Publisher's click tracking URL (auto-inserted by sales agent)",
                                              "GDPR": "GDPR applicability flag (1=applies, 0=doesn't apply)",
                                              "GDPR_CONSENT": "IAB TCF 2.0 consent string",
                                              "US_PRIVACY": "US Privacy (CCPA) string",
                                              "GPP_STRING": "Global Privacy Platform consent string",
                                              "GPP_SID": "GPP Section ID(s) indicating applicable privacy framework sections",
                                              "IP_ADDRESS": "User IP address (often masked for privacy, may return empty)",
                                              "LIMIT_AD_TRACKING": "Limit Ad Tracking enabled (1=limited, 0=allowed)",
                                              "DEVICE_TYPE": "Device category (mobile, tablet, desktop, ctv, dooh)",
                                              "OS": "Operating system (iOS, Android, tvOS, Roku, etc.)",
                                              "OS_VERSION": "OS version number",
                                              "DEVICE_MAKE": "Device manufacturer",
                                              "DEVICE_MODEL": "Device model identifier",
                                              "USER_AGENT": "Full user agent string",
                                              "APP_BUNDLE": "App bundle ID (domain or numeric)",
                                              "APP_NAME": "Human-readable app name",
                                              "COUNTRY": "ISO 3166-1 alpha-2 country code",
                                              "REGION": "State/province/region code",
                                              "CITY": "City name",
                                              "ZIP": "Postal code",
                                              "DMA": "Nielsen DMA code (US TV markets)",
                                              "LAT": "Latitude coordinate",
                                              "LONG": "Longitude coordinate",
                                              "DEVICE_ID": "Mobile advertising ID (IDFA/AAID)",
                                              "DEVICE_ID_TYPE": "Type of device ID (idfa, aaid)",
                                              "DOMAIN": "Domain where ad is shown",
                                              "PAGE_URL": "Full page URL (encoded)",
                                              "REFERRER": "HTTP referrer URL",
                                              "KEYWORDS": "Page keywords (comma-separated)",
                                              "PLACEMENT_ID": "Global Placement ID (IAB standard)",
                                              "FOLD_POSITION": "Position relative to fold (above_fold, below_fold)",
                                              "AD_WIDTH": "Ad slot width in pixels",
                                              "AD_HEIGHT": "Ad slot height in pixels",
                                              "VIDEO_ID": "Content video identifier",
                                              "VIDEO_TITLE": "Content video title",
                                              "VIDEO_DURATION": "Content duration in seconds",
                                              "VIDEO_CATEGORY": "IAB content category",
                                              "CONTENT_GENRE": "Content genre (news, sports, comedy, etc.)",
                                              "CONTENT_RATING": "Content rating (G, PG, TV-14, etc.)",
                                              "PLAYER_WIDTH": "Video player width in pixels",
                                              "PLAYER_HEIGHT": "Video player height in pixels",
                                              "POD_POSITION": "Position within ad break",
                                              "POD_SIZE": "Total ads in the ad break",
                                              "AD_BREAK_ID": "Unique ad break identifier",
                                              "STATION_ID": "Radio station or podcast identifier",
                                              "SHOW_NAME": "Program or show name",
                                              "EPISODE_ID": "Podcast episode identifier",
                                              "AUDIO_DURATION": "Audio content duration in seconds",
                                              "AXEM": "AXE contextual metadata (encoded blob)",
                                              "CATALOG_ID": "Buyer-defined catalog identifier from the catalog's catalog_id field",
                                              "SKU": "Product SKU identifier for the catalog item being rendered",
                                              "GTIN": "Global Trade Item Number for the catalog item being rendered",
                                              "OFFERING_ID": "AdCP offering identifier for the catalog item being rendered",
                                              "JOB_ID": "Job posting identifier for the catalog item being rendered",
                                              "HOTEL_ID": "Hotel property identifier for the catalog item being rendered",
                                              "FLIGHT_ID": "Flight route identifier for the catalog item being rendered",
                                              "VEHICLE_ID": "Vehicle listing identifier for the catalog item being rendered",
                                              "LISTING_ID": "Real estate listing identifier for the catalog item being rendered",
                                              "STORE_ID": "Store location identifier for the catalog item being rendered",
                                              "PROGRAM_ID": "Education program identifier for the catalog item being rendered",
                                              "DESTINATION_ID": "Travel destination identifier for the catalog item being rendered",
                                              "CREATIVE_VARIANT_ID": "Seller-assigned creative variant identifier, passed through at serve time",
                                              "APP_ITEM_ID": "Mobile app identifier for the catalog item being rendered"
                                            }
                                          },
                                          {
                                            "type": "string",
                                            "description": "Custom or publisher-specific macro name"
                                          }
                                        ]
                                      },
                                      "description": "Universal macros that can be passed to webhook (e.g., DEVICE_TYPE, COUNTRY). See docs/creative/universal-macros.mdx for full list."
                                    },
                                    "required_macros": {
                                      "type": "array",
                                      "items": {
                                        "oneOf": [
                                          {
                                            "title": "Universal Macro",
                                            "description": "Standardized macro placeholders for dynamic value substitution in creative tracking URLs. Macros are replaced with actual values at impression time. See docs/creative/universal-macros.mdx for detailed documentation.",
                                            "type": "string",
                                            "enum": [
                                              "MEDIA_BUY_ID",
                                              "PACKAGE_ID",
                                              "CREATIVE_ID",
                                              "CACHEBUSTER",
                                              "TIMESTAMP",
                                              "CLICK_URL",
                                              "GDPR",
                                              "GDPR_CONSENT",
                                              "US_PRIVACY",
                                              "GPP_STRING",
                                              "GPP_SID",
                                              "IP_ADDRESS",
                                              "LIMIT_AD_TRACKING",
                                              "DEVICE_TYPE",
                                              "OS",
                                              "OS_VERSION",
                                              "DEVICE_MAKE",
                                              "DEVICE_MODEL",
                                              "USER_AGENT",
                                              "APP_BUNDLE",
                                              "APP_NAME",
                                              "COUNTRY",
                                              "REGION",
                                              "CITY",
                                              "ZIP",
                                              "DMA",
                                              "LAT",
                                              "LONG",
                                              "DEVICE_ID",
                                              "DEVICE_ID_TYPE",
                                              "DOMAIN",
                                              "PAGE_URL",
                                              "REFERRER",
                                              "KEYWORDS",
                                              "PLACEMENT_ID",
                                              "FOLD_POSITION",
                                              "AD_WIDTH",
                                              "AD_HEIGHT",
                                              "VIDEO_ID",
                                              "VIDEO_TITLE",
                                              "VIDEO_DURATION",
                                              "VIDEO_CATEGORY",
                                              "CONTENT_GENRE",
                                              "CONTENT_RATING",
                                              "PLAYER_WIDTH",
                                              "PLAYER_HEIGHT",
                                              "POD_POSITION",
                                              "POD_SIZE",
                                              "AD_BREAK_ID",
                                              "STATION_ID",
                                              "SHOW_NAME",
                                              "EPISODE_ID",
                                              "AUDIO_DURATION",
                                              "AXEM",
                                              "CATALOG_ID",
                                              "SKU",
                                              "GTIN",
                                              "OFFERING_ID",
                                              "JOB_ID",
                                              "HOTEL_ID",
                                              "FLIGHT_ID",
                                              "VEHICLE_ID",
                                              "LISTING_ID",
                                              "STORE_ID",
                                              "PROGRAM_ID",
                                              "DESTINATION_ID",
                                              "CREATIVE_VARIANT_ID",
                                              "APP_ITEM_ID"
                                            ],
                                            "enumDescriptions": {
                                              "MEDIA_BUY_ID": "AdCP media buy identifier",
                                              "PACKAGE_ID": "AdCP package identifier",
                                              "CREATIVE_ID": "AdCP creative identifier",
                                              "CACHEBUSTER": "Random number to prevent caching",
                                              "TIMESTAMP": "Unix timestamp in milliseconds",
                                              "CLICK_URL": "Publisher's click tracking URL (auto-inserted by sales agent)",
                                              "GDPR": "GDPR applicability flag (1=applies, 0=doesn't apply)",
                                              "GDPR_CONSENT": "IAB TCF 2.0 consent string",
                                              "US_PRIVACY": "US Privacy (CCPA) string",
                                              "GPP_STRING": "Global Privacy Platform consent string",
                                              "GPP_SID": "GPP Section ID(s) indicating applicable privacy framework sections",
                                              "IP_ADDRESS": "User IP address (often masked for privacy, may return empty)",
                                              "LIMIT_AD_TRACKING": "Limit Ad Tracking enabled (1=limited, 0=allowed)",
                                              "DEVICE_TYPE": "Device category (mobile, tablet, desktop, ctv, dooh)",
                                              "OS": "Operating system (iOS, Android, tvOS, Roku, etc.)",
                                              "OS_VERSION": "OS version number",
                                              "DEVICE_MAKE": "Device manufacturer",
                                              "DEVICE_MODEL": "Device model identifier",
                                              "USER_AGENT": "Full user agent string",
                                              "APP_BUNDLE": "App bundle ID (domain or numeric)",
                                              "APP_NAME": "Human-readable app name",
                                              "COUNTRY": "ISO 3166-1 alpha-2 country code",
                                              "REGION": "State/province/region code",
                                              "CITY": "City name",
                                              "ZIP": "Postal code",
                                              "DMA": "Nielsen DMA code (US TV markets)",
                                              "LAT": "Latitude coordinate",
                                              "LONG": "Longitude coordinate",
                                              "DEVICE_ID": "Mobile advertising ID (IDFA/AAID)",
                                              "DEVICE_ID_TYPE": "Type of device ID (idfa, aaid)",
                                              "DOMAIN": "Domain where ad is shown",
                                              "PAGE_URL": "Full page URL (encoded)",
                                              "REFERRER": "HTTP referrer URL",
                                              "KEYWORDS": "Page keywords (comma-separated)",
                                              "PLACEMENT_ID": "Global Placement ID (IAB standard)",
                                              "FOLD_POSITION": "Position relative to fold (above_fold, below_fold)",
                                              "AD_WIDTH": "Ad slot width in pixels",
                                              "AD_HEIGHT": "Ad slot height in pixels",
                                              "VIDEO_ID": "Content video identifier",
                                              "VIDEO_TITLE": "Content video title",
                                              "VIDEO_DURATION": "Content duration in seconds",
                                              "VIDEO_CATEGORY": "IAB content category",
                                              "CONTENT_GENRE": "Content genre (news, sports, comedy, etc.)",
                                              "CONTENT_RATING": "Content rating (G, PG, TV-14, etc.)",
                                              "PLAYER_WIDTH": "Video player width in pixels",
                                              "PLAYER_HEIGHT": "Video player height in pixels",
                                              "POD_POSITION": "Position within ad break",
                                              "POD_SIZE": "Total ads in the ad break",
                                              "AD_BREAK_ID": "Unique ad break identifier",
                                              "STATION_ID": "Radio station or podcast identifier",
                                              "SHOW_NAME": "Program or show name",
                                              "EPISODE_ID": "Podcast episode identifier",
                                              "AUDIO_DURATION": "Audio content duration in seconds",
                                              "AXEM": "AXE contextual metadata (encoded blob)",
                                              "CATALOG_ID": "Buyer-defined catalog identifier from the catalog's catalog_id field",
                                              "SKU": "Product SKU identifier for the catalog item being rendered",
                                              "GTIN": "Global Trade Item Number for the catalog item being rendered",
                                              "OFFERING_ID": "AdCP offering identifier for the catalog item being rendered",
                                              "JOB_ID": "Job posting identifier for the catalog item being rendered",
                                              "HOTEL_ID": "Hotel property identifier for the catalog item being rendered",
                                              "FLIGHT_ID": "Flight route identifier for the catalog item being rendered",
                                              "VEHICLE_ID": "Vehicle listing identifier for the catalog item being rendered",
                                              "LISTING_ID": "Real estate listing identifier for the catalog item being rendered",
                                              "STORE_ID": "Store location identifier for the catalog item being rendered",
                                              "PROGRAM_ID": "Education program identifier for the catalog item being rendered",
                                              "DESTINATION_ID": "Travel destination identifier for the catalog item being rendered",
                                              "CREATIVE_VARIANT_ID": "Seller-assigned creative variant identifier, passed through at serve time",
                                              "APP_ITEM_ID": "Mobile app identifier for the catalog item being rendered"
                                            }
                                          },
                                          {
                                            "type": "string",
                                            "description": "Custom or publisher-specific macro name"
                                          }
                                        ]
                                      },
                                      "description": "Universal macros that must be provided for webhook to function"
                                    },
                                    "response_type": {
                                      "title": "Webhook Response Type",
                                      "description": "Expected content type of webhook response",
                                      "type": "string",
                                      "enum": [
                                        "html",
                                        "json",
                                        "xml",
                                        "javascript"
                                      ]
                                    },
                                    "security": {
                                      "type": "object",
                                      "description": "Security configuration for webhook calls",
                                      "properties": {
                                        "method": {
                                          "title": "Webhook Security Method",
                                          "description": "Authentication method",
                                          "type": "string",
                                          "enum": [
                                            "hmac_sha256",
                                            "api_key",
                                            "none"
                                          ]
                                        },
                                        "hmac_header": {
                                          "type": "string",
                                          "description": "Header name for HMAC signature (e.g., 'X-Signature')"
                                        },
                                        "api_key_header": {
                                          "type": "string",
                                          "description": "Header name for API key (e.g., 'X-API-Key')"
                                        }
                                      },
                                      "required": [
                                        "method"
                                      ]
                                    }
                                  },
                                  "required": [
                                    "url",
                                    "response_type",
                                    "security"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "CSS Asset",
                                  "description": "CSS stylesheet asset",
                                  "type": "object",
                                  "properties": {
                                    "content": {
                                      "type": "string",
                                      "description": "CSS content"
                                    },
                                    "media": {
                                      "type": "string",
                                      "description": "CSS media query context (e.g., 'screen', 'print')"
                                    }
                                  },
                                  "required": [
                                    "content"
                                  ],
                                  "additionalProperties": true
                                },
                                {
                                  "title": "DAAST Asset",
                                  "description": "DAAST (Digital Audio Ad Serving Template) tag for third-party audio ad serving",
                                  "oneOf": [
                                    {
                                      "type": "object",
                                      "properties": {
                                        "delivery_type": {
                                          "type": "string",
                                          "const": "url",
                                          "description": "Discriminator indicating DAAST is delivered via URL endpoint"
                                        },
                                        "url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL endpoint that returns DAAST XML"
                                        },
                                        "daast_version": {
                                          "title": "DAAST Version",
                                          "description": "DAAST specification version",
                                          "type": "string",
                                          "enum": [
                                            "1.0",
                                            "1.1"
                                          ]
                                        },
                                        "duration_ms": {
                                          "type": "integer",
                                          "description": "Expected audio duration in milliseconds (if known)",
                                          "minimum": 0
                                        },
                                        "tracking_events": {
                                          "type": "array",
                                          "items": {
                                            "title": "DAAST Tracking Event",
                                            "description": "Standard DAAST tracking events for audio ad playback and interaction",
                                            "type": "string",
                                            "enum": [
                                              "start",
                                              "firstQuartile",
                                              "midpoint",
                                              "thirdQuartile",
                                              "complete",
                                              "impression",
                                              "pause",
                                              "resume",
                                              "skip",
                                              "mute",
                                              "unmute"
                                            ]
                                          },
                                          "description": "Tracking events supported by this DAAST tag"
                                        },
                                        "companion_ads": {
                                          "type": "boolean",
                                          "description": "Whether companion display ads are included"
                                        },
                                        "transcript_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to text transcript of the audio content",
                                          "x-accessibility": true
                                        }
                                      },
                                      "required": [
                                        "delivery_type",
                                        "url"
                                      ],
                                      "additionalProperties": true
                                    },
                                    {
                                      "type": "object",
                                      "properties": {
                                        "delivery_type": {
                                          "type": "string",
                                          "const": "inline",
                                          "description": "Discriminator indicating DAAST is delivered as inline XML content"
                                        },
                                        "content": {
                                          "type": "string",
                                          "description": "Inline DAAST XML content"
                                        },
                                        "daast_version": {
                                          "title": "DAAST Version",
                                          "description": "DAAST specification version",
                                          "type": "string",
                                          "enum": [
                                            "1.0",
                                            "1.1"
                                          ]
                                        },
                                        "duration_ms": {
                                          "type": "integer",
                                          "description": "Expected audio duration in milliseconds (if known)",
                                          "minimum": 0
                                        },
                                        "tracking_events": {
                                          "type": "array",
                                          "items": {
                                            "title": "DAAST Tracking Event",
                                            "description": "Standard DAAST tracking events for audio ad playback and interaction",
                                            "type": "string",
                                            "enum": [
                                              "start",
                                              "firstQuartile",
                                              "midpoint",
                                              "thirdQuartile",
                                              "complete",
                                              "impression",
                                              "pause",
                                              "resume",
                                              "skip",
                                              "mute",
                                              "unmute"
                                            ]
                                          },
                                          "description": "Tracking events supported by this DAAST tag"
                                        },
                                        "companion_ads": {
                                          "type": "boolean",
                                          "description": "Whether companion display ads are included"
                                        },
                                        "transcript_url": {
                                          "type": "string",
                                          "format": "uri",
                                          "description": "URL to text transcript of the audio content",
                                          "x-accessibility": true
                                        }
                                      },
                                      "required": [
                                        "delivery_type",
                                        "content"
                                      ],
                                      "additionalProperties": true
                                    }
                                  ]
                                }
                              ]
                            }
                          },
                          "additionalProperties": true
                        },
                        "ext": {
                          "title": "Extension Object",
                          "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                          "type": "object",
                          "additionalProperties": true
                        }
                      },
                      "required": [
                        "format_id",
                        "assets"
                      ],
                      "additionalProperties": true
                    },
                    "generation_context": {
                      "type": "object",
                      "description": "Input signals that triggered generation of this variant (Tier 3). Describes why the platform created this specific variant. Platforms should provide summarized or anonymized signals rather than raw user input. For web contexts, may include page topic or URL. For conversational contexts, an anonymized content signal. For search, query category or intent. When the content context is managed through AdCP content standards, reference the artifact directly via the artifact field.",
                      "properties": {
                        "context_type": {
                          "type": "string",
                          "description": "Type of context that triggered generation (e.g., 'web_page', 'conversational', 'search', 'app', 'dooh')"
                        },
                        "artifact": {
                          "type": "object",
                          "description": "Reference to the content-standards artifact that provided the generation context. Links this variant to the specific piece of content (article, video, podcast segment, etc.) where the ad was placed.",
                          "properties": {
                            "property_id": {
                              "title": "Identifier",
                              "description": "Property where the artifact appears",
                              "type": "object",
                              "properties": {
                                "type": {
                                  "title": "Property Identifier Types",
                                  "description": "Type of identifier",
                                  "type": "string",
                                  "enum": [
                                    "domain",
                                    "subdomain",
                                    "network_id",
                                    "ios_bundle",
                                    "android_package",
                                    "apple_app_store_id",
                                    "google_play_id",
                                    "roku_store_id",
                                    "fire_tv_asin",
                                    "samsung_app_id",
                                    "apple_tv_bundle",
                                    "bundle_id",
                                    "venue_id",
                                    "screen_id",
                                    "openooh_venue_type",
                                    "rss_url",
                                    "apple_podcast_id",
                                    "spotify_show_id",
                                    "podcast_guid"
                                  ],
                                  "examples": [
                                    "domain",
                                    "ios_bundle",
                                    "venue_id",
                                    "apple_podcast_id"
                                  ]
                                },
                                "value": {
                                  "type": "string",
                                  "description": "The identifier value. For domain type: 'example.com' matches base domain plus www and m subdomains; 'edition.example.com' matches that specific subdomain; '*.example.com' matches ALL subdomains but NOT base domain"
                                }
                              },
                              "required": [
                                "type",
                                "value"
                              ],
                              "additionalProperties": false
                            },
                            "artifact_id": {
                              "type": "string",
                              "description": "Artifact identifier within the property"
                            }
                          },
                          "required": [
                            "property_id",
                            "artifact_id"
                          ],
                          "additionalProperties": false
                        },
                        "ext": {
                          "title": "Extension Object",
                          "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                          "type": "object",
                          "additionalProperties": true
                        }
                      },
                      "additionalProperties": true
                    }
                  },
                  "required": [
                    "variant_id"
                  ]
                }
              ]
            }
          }
        },
        "required": [
          "creative_id",
          "variants"
        ],
        "additionalProperties": true
      }
    },
    "pagination": {
      "type": "object",
      "description": "Pagination information. Present when the request included pagination parameters.",
      "properties": {
        "limit": {
          "type": "integer",
          "description": "Maximum number of creatives requested",
          "minimum": 1
        },
        "offset": {
          "type": "integer",
          "description": "Number of creatives skipped",
          "minimum": 0
        },
        "has_more": {
          "type": "boolean",
          "description": "Whether more creatives are available beyond this page"
        },
        "total": {
          "type": "integer",
          "description": "Total number of creatives matching the request filters",
          "minimum": 0
        }
      },
      "required": [
        "limit",
        "offset",
        "has_more"
      ],
      "additionalProperties": true
    },
    "errors": {
      "type": "array",
      "description": "Task-specific errors and warnings",
      "items": {
        "title": "Error",
        "description": "Standard error structure for task-specific errors and warnings",
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Error code for programmatic handling"
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message"
          },
          "field": {
            "type": "string",
            "description": "Field path associated with the error (e.g., 'packages[0].targeting')"
          },
          "suggestion": {
            "type": "string",
            "description": "Suggested fix for the error"
          },
          "retry_after": {
            "type": "number",
            "description": "Seconds to wait before retrying the operation",
            "minimum": 0
          },
          "details": {
            "type": "object",
            "description": "Additional task-specific error details",
            "additionalProperties": true
          }
        },
        "required": [
          "code",
          "message"
        ],
        "additionalProperties": true
      }
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "reporting_period",
    "currency",
    "creatives"
  ],
  "additionalProperties": true,
  "_bundled": {
    "generatedAt": "2026-02-26T12:28:33.793Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}