{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/3.0.0-beta.4/bundled/media-buy/get-products-response.json",
  "title": "Get Products Response",
  "description": "Response payload for get_products task",
  "type": "object",
  "properties": {
    "products": {
      "type": "array",
      "description": "Array of matching products",
      "items": {
        "title": "Product",
        "description": "Represents available advertising inventory",
        "type": "object",
        "properties": {
          "product_id": {
            "type": "string",
            "description": "Unique identifier for the product"
          },
          "name": {
            "type": "string",
            "description": "Human-readable product name"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the product and its inventory"
          },
          "publisher_properties": {
            "type": "array",
            "description": "Publisher properties covered by this product. Buyers fetch actual property definitions from each publisher's adagents.json and validate agent authorization. Selection patterns mirror the authorization patterns in adagents.json for consistency.",
            "items": {
              "title": "Publisher Property Selector",
              "description": "Selects properties from a publisher's adagents.json. Used for both product definitions and agent authorization. Supports three selection patterns: all properties, specific IDs, or by tags.",
              "discriminator": {
                "propertyName": "selection_type"
              },
              "oneOf": [
                {
                  "type": "object",
                  "description": "Select all properties from the publisher domain",
                  "properties": {
                    "publisher_domain": {
                      "type": "string",
                      "description": "Domain where publisher's adagents.json is hosted (e.g., 'cnn.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "all",
                      "description": "Discriminator indicating all properties from this publisher are included"
                    }
                  },
                  "required": [
                    "publisher_domain",
                    "selection_type"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "description": "Select specific properties by ID",
                  "properties": {
                    "publisher_domain": {
                      "type": "string",
                      "description": "Domain where publisher's adagents.json is hosted (e.g., 'cnn.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "by_id",
                      "description": "Discriminator indicating selection by specific property IDs"
                    },
                    "property_ids": {
                      "type": "array",
                      "description": "Specific property IDs from the publisher's adagents.json",
                      "items": {
                        "title": "Property ID",
                        "description": "Identifier for a publisher property. Must be lowercase alphanumeric with underscores only.",
                        "type": "string",
                        "pattern": "^[a-z0-9_]+$",
                        "examples": [
                          "cnn_ctv_app",
                          "homepage",
                          "mobile_ios",
                          "instagram"
                        ]
                      },
                      "minItems": 1
                    }
                  },
                  "required": [
                    "publisher_domain",
                    "selection_type",
                    "property_ids"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "description": "Select properties by tag membership",
                  "properties": {
                    "publisher_domain": {
                      "type": "string",
                      "description": "Domain where publisher's adagents.json is hosted (e.g., 'cnn.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "by_tag",
                      "description": "Discriminator indicating selection by property tags"
                    },
                    "property_tags": {
                      "type": "array",
                      "description": "Property tags from the publisher's adagents.json. Selector covers all properties with these tags",
                      "items": {
                        "title": "Property Tag",
                        "description": "Tag for categorizing publisher properties. Must be lowercase alphanumeric with underscores only.",
                        "type": "string",
                        "pattern": "^[a-z0-9_]+$",
                        "examples": [
                          "ctv",
                          "premium",
                          "news",
                          "sports",
                          "meta_network",
                          "social_media"
                        ]
                      },
                      "minItems": 1
                    }
                  },
                  "required": [
                    "publisher_domain",
                    "selection_type",
                    "property_tags"
                  ],
                  "additionalProperties": true
                }
              ]
            },
            "minItems": 1
          },
          "channels": {
            "type": "array",
            "description": "Advertising channels this product is sold as. Products inherit from their properties' supported_channels but may narrow the scope. For example, a product covering YouTube properties might be sold as ['ctv'] even though those properties support ['olv', 'social', 'ctv'].",
            "items": {
              "title": "Media Channel",
              "description": "Standardized advertising media channels describing how buyers allocate budget. Channels are planning abstractions, not technical substrates. See the Media Channel Taxonomy specification for detailed definitions.",
              "type": "string",
              "enum": [
                "display",
                "olv",
                "social",
                "search",
                "ctv",
                "linear_tv",
                "radio",
                "streaming_audio",
                "podcast",
                "dooh",
                "ooh",
                "print",
                "cinema",
                "email",
                "gaming",
                "retail_media",
                "influencer",
                "affiliate",
                "product_placement"
              ],
              "enumDescriptions": {
                "display": "Digital display advertising (banners, native, rich media) across web and app",
                "olv": "Online video advertising outside CTV (pre-roll, outstream, in-app video)",
                "social": "Social media platforms (Facebook, Instagram, TikTok, LinkedIn, etc.)",
                "search": "Search engine advertising and search networks",
                "ctv": "Connected TV and streaming on television screens",
                "linear_tv": "Traditional broadcast and cable television",
                "radio": "Traditional AM/FM radio broadcast",
                "streaming_audio": "Digital audio streaming services (Spotify, Pandora, etc.)",
                "podcast": "Podcast advertising (host-read or dynamically inserted)",
                "dooh": "Digital out-of-home screens in public spaces",
                "ooh": "Classic out-of-home (physical billboards, transit, etc.)",
                "print": "Newspapers, magazines, and other print publications",
                "cinema": "Movie theater advertising",
                "email": "Email advertising and sponsored newsletter content",
                "gaming": "In-game advertising across platforms",
                "retail_media": "Retail media networks and commerce marketplaces (Amazon, Walmart, Instacart)",
                "influencer": "Creator and influencer marketing partnerships",
                "affiliate": "Affiliate networks, comparison sites, and performance-based partnerships",
                "product_placement": "Product placement, branded content, and sponsorship integrations"
              }
            },
            "uniqueItems": true
          },
          "format_ids": {
            "type": "array",
            "description": "Array of supported creative format IDs - structured format_id objects with agent_url and id",
            "items": {
              "title": "Format ID",
              "description": "Structured format identifier with agent URL and format name. Can reference: (1) a concrete format with fixed dimensions (id only), (2) a template format without parameters (id only), or (3) a template format with parameters (id + dimensions/duration). Template formats accept parameters in format_id while concrete formats have fixed dimensions in their definition. Parameterized format IDs create unique, specific format variants.",
              "type": "object",
              "properties": {
                "agent_url": {
                  "type": "string",
                  "format": "uri",
                  "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                },
                "id": {
                  "type": "string",
                  "pattern": "^[a-zA-Z0-9_-]+$",
                  "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                },
                "width": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                },
                "height": {
                  "type": "integer",
                  "minimum": 1,
                  "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                },
                "duration_ms": {
                  "type": "number",
                  "minimum": 1,
                  "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                }
              },
              "required": [
                "agent_url",
                "id"
              ],
              "additionalProperties": true,
              "dependencies": {
                "width": [
                  "height"
                ],
                "height": [
                  "width"
                ]
              }
            }
          },
          "placements": {
            "type": "array",
            "description": "Optional array of specific placements within this product. When provided, buyers can target specific placements when assigning creatives.",
            "items": {
              "title": "Placement",
              "description": "Represents a specific ad placement within a product's inventory",
              "type": "object",
              "properties": {
                "placement_id": {
                  "type": "string",
                  "description": "Unique identifier for the placement within the product"
                },
                "name": {
                  "type": "string",
                  "description": "Human-readable name for the placement (e.g., 'Homepage Banner', 'Article Sidebar')"
                },
                "description": {
                  "type": "string",
                  "description": "Detailed description of where and how the placement appears"
                },
                "format_ids": {
                  "type": "array",
                  "description": "Format IDs supported by this specific placement. Can include: (1) concrete format_ids (fixed dimensions), (2) template format_ids without parameters (accepts any dimensions/duration), or (3) parameterized format_ids (specific dimension/duration constraints).",
                  "items": {
                    "title": "Format ID",
                    "description": "Structured format identifier with agent URL and format name. Can reference: (1) a concrete format with fixed dimensions (id only), (2) a template format without parameters (id only), or (3) a template format with parameters (id + dimensions/duration). Template formats accept parameters in format_id while concrete formats have fixed dimensions in their definition. Parameterized format IDs create unique, specific format variants.",
                    "type": "object",
                    "properties": {
                      "agent_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                      },
                      "id": {
                        "type": "string",
                        "pattern": "^[a-zA-Z0-9_-]+$",
                        "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                      },
                      "width": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                      },
                      "height": {
                        "type": "integer",
                        "minimum": 1,
                        "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                      },
                      "duration_ms": {
                        "type": "number",
                        "minimum": 1,
                        "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                      }
                    },
                    "required": [
                      "agent_url",
                      "id"
                    ],
                    "additionalProperties": true,
                    "dependencies": {
                      "width": [
                        "height"
                      ],
                      "height": [
                        "width"
                      ]
                    }
                  },
                  "minItems": 1
                }
              },
              "required": [
                "placement_id",
                "name"
              ],
              "additionalProperties": true
            },
            "minItems": 1
          },
          "delivery_type": {
            "title": "Delivery Type",
            "description": "Type of inventory delivery",
            "type": "string",
            "enum": [
              "guaranteed",
              "non_guaranteed"
            ],
            "enumDescriptions": {
              "guaranteed": "Reserved inventory with guaranteed delivery",
              "non_guaranteed": "Auction-based inventory without delivery guarantees"
            }
          },
          "pricing_options": {
            "type": "array",
            "description": "Available pricing models for this product",
            "items": {
              "title": "Pricing Option",
              "description": "A pricing model option offered by a publisher for a product. Discriminated by pricing_model field. If fixed_price is present, it's fixed pricing. If absent, it's auction-based (floor_price and price_guidance optional). Bid-based auction models may also include max_bid as a boolean signal to interpret bid_price as a buyer ceiling instead of an exact honored price.",
              "oneOf": [
                {
                  "title": "CPM Pricing Option",
                  "description": "Cost Per Mille (cost per 1,000 impressions) pricing. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpm",
                      "description": "Cost per 1,000 impressions"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per unit. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "max_bid": {
                      "type": "boolean",
                      "description": "When true, bid_price is interpreted as the buyer's maximum willingness to pay (ceiling) rather than an exact price. Sellers may optimize actual clearing prices between floor_price and bid_price based on delivery pacing. When false or absent, bid_price (if provided) is the exact bid/price to honor.",
                      "default": false
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "vCPM Pricing Option",
                  "description": "Viewable Cost Per Mille (cost per 1,000 viewable impressions) pricing - MRC viewability standard. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "vcpm",
                      "description": "Cost per 1,000 viewable impressions (MRC standard)"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per unit. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "max_bid": {
                      "type": "boolean",
                      "description": "When true, bid_price is interpreted as the buyer's maximum willingness to pay (ceiling) rather than an exact price. Sellers may optimize actual clearing prices between floor_price and bid_price based on delivery pacing. When false or absent, bid_price (if provided) is the exact bid/price to honor.",
                      "default": false
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "CPC Pricing Option",
                  "description": "Cost Per Click pricing. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpc",
                      "description": "Cost per click"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per click. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "max_bid": {
                      "type": "boolean",
                      "description": "When true, bid_price is interpreted as the buyer's maximum willingness to pay (ceiling) rather than an exact price. Sellers may optimize actual clearing prices between floor_price and bid_price based on delivery pacing. When false or absent, bid_price (if provided) is the exact bid/price to honor.",
                      "default": false
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "CPCV Pricing Option",
                  "description": "Cost Per Completed View (100% video/audio completion) pricing. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpcv",
                      "description": "Cost per completed view (100% completion)"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per completed view. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "max_bid": {
                      "type": "boolean",
                      "description": "When true, bid_price is interpreted as the buyer's maximum willingness to pay (ceiling) rather than an exact price. Sellers may optimize actual clearing prices between floor_price and bid_price based on delivery pacing. When false or absent, bid_price (if provided) is the exact bid/price to honor.",
                      "default": false
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "CPV Pricing Option",
                  "description": "Cost Per View (at publisher-defined threshold) pricing for video/audio. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpv",
                      "description": "Cost per view at threshold"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per view. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "max_bid": {
                      "type": "boolean",
                      "description": "When true, bid_price is interpreted as the buyer's maximum willingness to pay (ceiling) rather than an exact price. Sellers may optimize actual clearing prices between floor_price and bid_price based on delivery pacing. When false or absent, bid_price (if provided) is the exact bid/price to honor.",
                      "default": false
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "parameters": {
                      "type": "object",
                      "description": "CPV-specific parameters defining the view threshold",
                      "properties": {
                        "view_threshold": {
                          "oneOf": [
                            {
                              "type": "number",
                              "description": "Percentage completion threshold (0.0 to 1.0, e.g., 0.5 = 50%)",
                              "minimum": 0,
                              "maximum": 1
                            },
                            {
                              "type": "object",
                              "description": "Time-based view threshold",
                              "properties": {
                                "duration_seconds": {
                                  "type": "integer",
                                  "description": "Seconds of viewing required",
                                  "minimum": 1
                                }
                              },
                              "required": [
                                "duration_seconds"
                              ],
                              "additionalProperties": true
                            }
                          ]
                        }
                      },
                      "required": [
                        "view_threshold"
                      ],
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency",
                    "parameters"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "CPP Pricing Option",
                  "description": "Cost Per Point (Gross Rating Point) pricing for TV and audio campaigns. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpp",
                      "description": "Cost per Gross Rating Point"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per rating point. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "parameters": {
                      "type": "object",
                      "description": "CPP-specific parameters for demographic targeting",
                      "properties": {
                        "demographic_system": {
                          "title": "Demographic System",
                          "description": "Measurement system for the demographic field. Defaults to nielsen when omitted.",
                          "type": "string",
                          "enum": [
                            "nielsen",
                            "barb",
                            "agf",
                            "oztam",
                            "mediametrie",
                            "custom"
                          ],
                          "enumDescriptions": {
                            "nielsen": "Nielsen notation. Prefix: P(ersons), M(en), W(omen), A(dults), C(hildren), T(eens) + age range. Examples: P18-49, M25-54, W35+",
                            "barb": "BARB (UK). NRS social grade + age bands. Examples: ABC1 Adults, 16-34, Adults",
                            "agf": "AGF Videoforschung (Germany). Erwachsene notation + age bands. Examples: E 14-49, E 14+",
                            "oztam": "OzTAM (Australia). Age/gender bands, 4+ measurement universe",
                            "mediametrie": "Mediametrie (France). Named segments + age bands",
                            "custom": "Publisher-defined demographic notation"
                          }
                        },
                        "demographic": {
                          "type": "string",
                          "description": "Target demographic code within the specified demographic_system (e.g., P18-49 for Nielsen, ABC1 Adults for BARB)"
                        },
                        "min_points": {
                          "type": "number",
                          "description": "Minimum GRPs/TRPs required",
                          "minimum": 0
                        }
                      },
                      "required": [
                        "demographic"
                      ],
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency",
                    "parameters"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "CPA Pricing Option",
                  "description": "Cost Per Acquisition pricing. Advertiser pays a fixed price when a specified conversion event occurs. The event_type field declares which event triggers billing (e.g., purchase, lead, app_install).",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "cpa",
                      "description": "Cost per acquisition (conversion event)"
                    },
                    "event_type": {
                      "allOf": [
                        {
                          "title": "Event Type",
                          "description": "Standard marketing event types for event logging, aligned with IAB ECAPI",
                          "type": "string",
                          "enum": [
                            "page_view",
                            "view_content",
                            "select_content",
                            "select_item",
                            "search",
                            "share",
                            "add_to_cart",
                            "remove_from_cart",
                            "viewed_cart",
                            "add_to_wishlist",
                            "initiate_checkout",
                            "add_payment_info",
                            "purchase",
                            "refund",
                            "lead",
                            "qualify_lead",
                            "close_convert_lead",
                            "disqualify_lead",
                            "complete_registration",
                            "subscribe",
                            "start_trial",
                            "app_install",
                            "app_launch",
                            "contact",
                            "schedule",
                            "donate",
                            "submit_application",
                            "custom"
                          ],
                          "enumDescriptions": {
                            "page_view": "User viewed a page",
                            "view_content": "User viewed specific content (product, article, etc.)",
                            "select_content": "User selected or clicked on content (article, video, etc.)",
                            "select_item": "User selected a specific product or item from a list",
                            "search": "User performed a search",
                            "share": "User shared content via social or messaging",
                            "add_to_cart": "User added an item to cart",
                            "remove_from_cart": "User removed an item from cart",
                            "viewed_cart": "User viewed their shopping cart",
                            "add_to_wishlist": "User added an item to a wishlist",
                            "initiate_checkout": "User started checkout process",
                            "add_payment_info": "User added payment information",
                            "purchase": "User completed a purchase",
                            "refund": "A purchase was fully or partially refunded (adjusts ROAS)",
                            "lead": "User expressed interest (form submission, signup, etc.)",
                            "qualify_lead": "Lead qualified by sales or scoring criteria",
                            "close_convert_lead": "Lead converted to a customer or closed deal",
                            "disqualify_lead": "Lead disqualified or marked as not viable",
                            "complete_registration": "User completed account registration",
                            "subscribe": "User subscribed to a service or newsletter",
                            "start_trial": "User started a free trial",
                            "app_install": "User installed an application",
                            "app_launch": "User launched an application",
                            "contact": "User initiated contact (call, message, etc.)",
                            "schedule": "User scheduled an appointment or event",
                            "donate": "User made a donation",
                            "submit_application": "User submitted an application (loan, job, etc.)",
                            "custom": "Custom event type (specify in custom_event_name)"
                          }
                        }
                      ],
                      "description": "The conversion event type that triggers billing (e.g., purchase, lead, app_install)"
                    },
                    "custom_event_name": {
                      "type": "string",
                      "description": "Name of the custom event when event_type is 'custom'. Required when event_type is 'custom', ignored otherwise."
                    },
                    "event_source_id": {
                      "type": "string",
                      "description": "When present, only events from this specific event source count toward billing. Allows different CPA rates for different sources (e.g., online vs in-store purchases). Must match an event source configured via sync_event_sources."
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Fixed price per acquisition in the specified currency",
                      "exclusiveMinimum": 0
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "event_type",
                    "currency",
                    "fixed_price"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "Flat Rate Pricing Option",
                  "description": "Flat rate pricing for DOOH, sponsorships, and time-based campaigns. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "flat_rate",
                      "description": "Fixed cost regardless of delivery volume"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Flat rate cost. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "parameters": {
                      "type": "object",
                      "description": "Flat rate parameters for DOOH and time-based campaigns",
                      "properties": {
                        "duration_hours": {
                          "type": "number",
                          "description": "Duration in hours for time-based pricing",
                          "minimum": 0
                        },
                        "sov_percentage": {
                          "type": "number",
                          "description": "Guaranteed share of voice (0-100)",
                          "minimum": 0,
                          "maximum": 100
                        },
                        "loop_duration_seconds": {
                          "type": "integer",
                          "description": "Duration of ad loop rotation in seconds",
                          "minimum": 1
                        },
                        "min_plays_per_hour": {
                          "type": "integer",
                          "description": "Minimum plays per hour",
                          "minimum": 0
                        },
                        "venue_package": {
                          "type": "string",
                          "description": "Named venue package identifier"
                        },
                        "estimated_impressions": {
                          "type": "integer",
                          "description": "Estimated impressions (informational)",
                          "minimum": 0
                        },
                        "daypart": {
                          "type": "string",
                          "description": "Specific daypart for time-based pricing"
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                {
                  "title": "Time-Based Pricing Option",
                  "description": "Cost per time unit (hour, day, week, or month) - rate scales with campaign duration. If fixed_price is present, it's fixed pricing. If absent, it's auction-based.",
                  "type": "object",
                  "properties": {
                    "pricing_option_id": {
                      "type": "string",
                      "description": "Unique identifier for this pricing option within the product"
                    },
                    "pricing_model": {
                      "type": "string",
                      "const": "time",
                      "description": "Cost per time unit - rate scales with campaign duration"
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code",
                      "pattern": "^[A-Z]{3}$",
                      "examples": [
                        "USD",
                        "EUR",
                        "GBP",
                        "JPY"
                      ]
                    },
                    "fixed_price": {
                      "type": "number",
                      "description": "Cost per time unit. If present, this is fixed pricing. If absent, auction-based.",
                      "minimum": 0
                    },
                    "floor_price": {
                      "type": "number",
                      "description": "Minimum acceptable bid per time unit for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
                      "minimum": 0
                    },
                    "price_guidance": {
                      "description": "Pricing guidance for auction-based bidding. Helps buyers calibrate bids with historical percentiles.",
                      "title": "Price Guidance",
                      "type": "object",
                      "properties": {
                        "p25": {
                          "type": "number",
                          "description": "25th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p50": {
                          "type": "number",
                          "description": "Median of recent winning bids",
                          "minimum": 0
                        },
                        "p75": {
                          "type": "number",
                          "description": "75th percentile of recent winning bids",
                          "minimum": 0
                        },
                        "p90": {
                          "type": "number",
                          "description": "90th percentile of recent winning bids",
                          "minimum": 0
                        }
                      },
                      "additionalProperties": true
                    },
                    "parameters": {
                      "type": "object",
                      "description": "Time-based pricing parameters",
                      "required": [
                        "time_unit"
                      ],
                      "properties": {
                        "time_unit": {
                          "type": "string",
                          "enum": [
                            "hour",
                            "day",
                            "week",
                            "month"
                          ],
                          "description": "The time unit for pricing. Total cost = fixed_price  number of time_units in the campaign flight."
                        },
                        "min_duration": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Minimum booking duration in time_units"
                        },
                        "max_duration": {
                          "type": "integer",
                          "minimum": 1,
                          "description": "Maximum booking duration in time_units. Must be >= min_duration when both are present."
                        }
                      },
                      "additionalProperties": true
                    },
                    "min_spend_per_package": {
                      "type": "number",
                      "description": "Minimum spend requirement per package using this pricing option, in the specified currency",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "pricing_option_id",
                    "pricing_model",
                    "currency",
                    "parameters"
                  ],
                  "additionalProperties": true
                }
              ]
            },
            "minItems": 1
          },
          "forecast": {
            "title": "Delivery Forecast",
            "description": "Forecasted delivery metrics for this product. Gives buyers an estimate of expected performance before requesting a proposal.",
            "type": "object",
            "properties": {
              "points": {
                "type": "array",
                "description": "Forecasted delivery at one or more budget levels. A single point is a standard forecast; multiple points ordered by ascending budget form a curve showing how metrics scale with spend. Each point pairs a budget with metric ranges.",
                "items": {
                  "title": "Forecast Point",
                  "description": "A forecast at a specific budget level. A single point represents a standard forecast; multiple points ordered by ascending budget form a curve showing how delivery metrics scale with spend.",
                  "type": "object",
                  "properties": {
                    "budget": {
                      "type": "number",
                      "description": "Budget amount for this forecast point. For allocation-level forecasts, this is the absolute budget for that allocation (not the percentage). For proposal-level forecasts, this is the total proposal budget.",
                      "minimum": 0
                    },
                    "metrics": {
                      "type": "object",
                      "description": "Forecasted metric values at this budget level. Keys are either forecastable-metric values for delivery/engagement (impressions, reach, spend, etc.) or event-type values for outcomes (purchase, lead, app_install, etc.). Values are ForecastRange objects (low/mid/high). Use { \"mid\": value } for point estimates. Include spend when the platform predicts it will differ from budget.",
                      "additionalProperties": {
                        "title": "Forecast Range",
                        "description": "A forecast value with optional low/high bounds. The mid value represents the most likely outcome. When low and high are provided, they represent conservative and optimistic estimates respectively.",
                        "type": "object",
                        "properties": {
                          "low": {
                            "type": "number",
                            "description": "Conservative (low-end) forecast value",
                            "minimum": 0
                          },
                          "mid": {
                            "type": "number",
                            "description": "Expected (most likely) forecast value",
                            "minimum": 0
                          },
                          "high": {
                            "type": "number",
                            "description": "Optimistic (high-end) forecast value",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "mid"
                        ],
                        "additionalProperties": true
                      }
                    }
                  },
                  "required": [
                    "budget",
                    "metrics"
                  ],
                  "additionalProperties": true
                },
                "minItems": 1
              },
              "forecast_range_unit": {
                "title": "Forecast Range Unit",
                "description": "How to interpret the points array. 'spend' (default when omitted): points at ascending budget levels. 'reach_freq': points at ascending reach/frequency targets. 'weekly'/'daily': metrics are per-period values. 'clicks'/'conversions': points at ascending outcome targets.",
                "type": "string",
                "enum": [
                  "spend",
                  "reach_freq",
                  "weekly",
                  "daily",
                  "clicks",
                  "conversions"
                ],
                "enumDescriptions": {
                  "spend": "Points at ascending budget levels. Standard budget curve showing how delivery metrics scale with spend. Default when field is omitted.",
                  "reach_freq": "Points at ascending reach/frequency targets. Used in broadcast planning where the publisher shows how cost scales with frequency goals.",
                  "weekly": "Metrics are per-week values. Budget refers to total campaign spend. Frequency of 3.2 means 3.2 exposures per week.",
                  "daily": "Metrics are per-day values. Budget refers to total campaign spend.",
                  "clicks": "Points at ascending click targets. Used in performance campaigns where the buyer specifies click goals.",
                  "conversions": "Points at ascending conversion targets. Used in goal-based planning (e.g., Meta-style 'tell me your goal, I'll tell you the budget')."
                }
              },
              "method": {
                "title": "Forecast Method",
                "description": "Method used to produce this forecast",
                "type": "string",
                "enum": [
                  "estimate",
                  "modeled",
                  "guaranteed"
                ],
                "enumDescriptions": {
                  "estimate": "Rough approximation based on historical averages or heuristics. No delivery commitment.",
                  "modeled": "Forecast derived from platform-specific predictive models or historical data. Publisher uses this to set expectations but does not guarantee delivery.",
                  "guaranteed": "Contractually committed delivery levels backed by reserved inventory"
                }
              },
              "currency": {
                "type": "string",
                "description": "ISO 4217 currency code for monetary values in this forecast (spend, budget)"
              },
              "demographic_system": {
                "title": "Demographic System",
                "description": "Measurement system for the demographic field. Ensures buyer and seller agree on demographic notation.",
                "type": "string",
                "enum": [
                  "nielsen",
                  "barb",
                  "agf",
                  "oztam",
                  "mediametrie",
                  "custom"
                ],
                "enumDescriptions": {
                  "nielsen": "Nielsen notation. Prefix: P(ersons), M(en), W(omen), A(dults), C(hildren), T(eens) + age range. Examples: P18-49, M25-54, W35+",
                  "barb": "BARB (UK). NRS social grade + age bands. Examples: ABC1 Adults, 16-34, Adults",
                  "agf": "AGF Videoforschung (Germany). Erwachsene notation + age bands. Examples: E 14-49, E 14+",
                  "oztam": "OzTAM (Australia). Age/gender bands, 4+ measurement universe",
                  "mediametrie": "Mediametrie (France). Named segments + age bands",
                  "custom": "Publisher-defined demographic notation"
                }
              },
              "demographic": {
                "type": "string",
                "description": "Target demographic code within the specified demographic_system. For Nielsen: P18-49, M25-54, W35+. For BARB: ABC1 Adults, 16-34. For AGF: E 14-49.",
                "examples": [
                  "P18-49",
                  "A25-54",
                  "W35+",
                  "M18-34"
                ]
              },
              "reach_unit": {
                "title": "Reach Unit",
                "description": "Unit of measurement for reach and audience_size metrics in this forecast. Required for cross-channel forecast comparison.",
                "type": "string",
                "enum": [
                  "individuals",
                  "households",
                  "devices",
                  "accounts",
                  "cookies",
                  "custom"
                ],
                "enumDescriptions": {
                  "individuals": "Unique people. Panel-based or identity-resolved measurement.",
                  "households": "Unique households or TV homes.",
                  "devices": "Unique device identifiers (IDFA, GAID, CTV device ID).",
                  "accounts": "Unique logged-in accounts (platform-specific identity).",
                  "cookies": "Unique browser cookies.",
                  "custom": "Publisher-defined reach unit. Describe in ext."
                }
              },
              "generated_at": {
                "type": "string",
                "format": "date-time",
                "description": "When this forecast was computed"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "description": "When this forecast expires. After this time, the forecast should be refreshed. Forecast expiry does not affect proposal executability."
              },
              "ext": {
                "title": "Extension Object",
                "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                "type": "object",
                "additionalProperties": true
              }
            },
            "required": [
              "points",
              "method",
              "currency"
            ],
            "additionalProperties": true
          },
          "measurement": {
            "title": "Measurement",
            "description": "Measurement capabilities included with a product",
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "description": "Type of measurement",
                "examples": [
                  "incremental_sales_lift",
                  "brand_lift",
                  "foot_traffic"
                ]
              },
              "attribution": {
                "type": "string",
                "description": "Attribution methodology",
                "examples": [
                  "deterministic_purchase",
                  "probabilistic"
                ]
              },
              "window": {
                "type": "string",
                "description": "Attribution window",
                "examples": [
                  "30_days",
                  "7_days"
                ]
              },
              "reporting": {
                "type": "string",
                "description": "Reporting frequency and format",
                "examples": [
                  "weekly_dashboard",
                  "real_time_api"
                ]
              }
            },
            "required": [
              "type",
              "attribution",
              "reporting"
            ],
            "additionalProperties": true
          },
          "delivery_measurement": {
            "type": "object",
            "description": "Measurement provider and methodology for delivery metrics. The buyer accepts the declared provider as the source of truth for the buy. REQUIRED for all products.",
            "properties": {
              "provider": {
                "type": "string",
                "description": "Measurement provider(s) used for this product (e.g., 'Google Ad Manager with IAS viewability', 'Nielsen DAR', 'Geopath for DOOH impressions')"
              },
              "notes": {
                "type": "string",
                "description": "Additional details about measurement methodology in plain language (e.g., 'MRC-accredited viewability. 50% in-view for 1s display / 2s video', 'Panel-based demographic measurement updated monthly')"
              }
            },
            "required": [
              "provider"
            ]
          },
          "reporting_capabilities": {
            "title": "Reporting Capabilities",
            "description": "Reporting capabilities available for a product",
            "type": "object",
            "properties": {
              "available_reporting_frequencies": {
                "type": "array",
                "description": "Supported reporting frequency options",
                "items": {
                  "title": "Reporting Frequency",
                  "description": "Available frequencies for delivery reports and metrics updates",
                  "type": "string",
                  "enum": [
                    "hourly",
                    "daily",
                    "monthly"
                  ]
                },
                "minItems": 1,
                "uniqueItems": true
              },
              "expected_delay_minutes": {
                "type": "integer",
                "description": "Expected delay in minutes before reporting data becomes available (e.g., 240 for 4-hour delay)",
                "minimum": 0,
                "examples": [
                  240,
                  300,
                  1440
                ]
              },
              "timezone": {
                "type": "string",
                "description": "Timezone for reporting periods. Use 'UTC' or IANA timezone (e.g., 'America/New_York'). Critical for daily/monthly frequency alignment.",
                "examples": [
                  "UTC",
                  "America/New_York",
                  "Europe/London",
                  "America/Los_Angeles"
                ]
              },
              "supports_webhooks": {
                "type": "boolean",
                "description": "Whether this product supports webhook-based reporting notifications"
              },
              "available_metrics": {
                "type": "array",
                "description": "Metrics available in reporting. Impressions and spend are always implicitly included. When a creative format declares reported_metrics, buyers receive the intersection of these product-level metrics and the format's reported_metrics.",
                "items": {
                  "title": "Available Metric",
                  "description": "Standard delivery and performance metrics available for reporting",
                  "type": "string",
                  "enum": [
                    "impressions",
                    "spend",
                    "clicks",
                    "ctr",
                    "video_completions",
                    "completion_rate",
                    "conversions",
                    "conversion_value",
                    "roas",
                    "cost_per_acquisition",
                    "new_to_brand_rate",
                    "viewability",
                    "engagement_rate",
                    "views",
                    "completed_views",
                    "leads",
                    "reach",
                    "frequency",
                    "grps",
                    "quartile_data",
                    "dooh_metrics",
                    "cost_per_click"
                  ]
                },
                "uniqueItems": true,
                "examples": [
                  [
                    "impressions",
                    "spend",
                    "clicks",
                    "video_completions"
                  ],
                  [
                    "impressions",
                    "spend",
                    "conversions"
                  ]
                ]
              },
              "supports_creative_breakdown": {
                "type": "boolean",
                "description": "Whether this product supports creative-level metric breakdowns in delivery reporting (by_creative within by_package)"
              },
              "date_range_support": {
                "type": "string",
                "enum": [
                  "date_range",
                  "lifetime_only"
                ],
                "description": "Whether delivery data can be filtered to arbitrary date ranges. 'date_range' means the platform supports start_date/end_date parameters. 'lifetime_only' means the platform returns campaign lifetime totals and date range parameters are not accepted.",
                "default": "date_range"
              }
            },
            "required": [
              "available_reporting_frequencies",
              "expected_delay_minutes",
              "timezone",
              "supports_webhooks",
              "available_metrics",
              "date_range_support"
            ],
            "additionalProperties": true
          },
          "creative_policy": {
            "title": "Creative Policy",
            "description": "Creative requirements and restrictions for a product",
            "type": "object",
            "properties": {
              "co_branding": {
                "title": "Co-Branding Requirement",
                "description": "Co-branding requirement",
                "type": "string",
                "enum": [
                  "required",
                  "optional",
                  "none"
                ]
              },
              "landing_page": {
                "title": "Landing Page Requirement",
                "description": "Landing page requirements",
                "type": "string",
                "enum": [
                  "any",
                  "retailer_site_only",
                  "must_include_retailer"
                ]
              },
              "templates_available": {
                "type": "boolean",
                "description": "Whether creative templates are provided"
              }
            },
            "required": [
              "co_branding",
              "landing_page",
              "templates_available"
            ],
            "additionalProperties": true
          },
          "is_custom": {
            "type": "boolean",
            "description": "Whether this is a custom product"
          },
          "property_targeting_allowed": {
            "type": "boolean",
            "default": false,
            "description": "Whether buyers can filter this product to a subset of its publisher_properties. When false (default), the product is 'all or nothing' - buyers must accept all properties or the product is excluded from property_list filtering results."
          },
          "data_provider_signals": {
            "type": "array",
            "description": "Data provider signals available for this product. Buyers fetch signal definitions from each data provider's adagents.json and can verify agent authorization.",
            "items": {
              "title": "Data Provider Signal Selector",
              "description": "Selects signals from a data provider's adagents.json catalog. Used for product definitions and agent authorization. Supports three selection patterns: all signals, specific IDs, or by tags.",
              "discriminator": {
                "propertyName": "selection_type"
              },
              "oneOf": [
                {
                  "type": "object",
                  "description": "Select all signals from the data provider",
                  "properties": {
                    "data_provider_domain": {
                      "type": "string",
                      "description": "Domain where data provider's adagents.json is hosted (e.g., 'polk.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "all",
                      "description": "Discriminator indicating all signals from this data provider are included"
                    }
                  },
                  "required": [
                    "data_provider_domain",
                    "selection_type"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "description": "Select specific signals by ID",
                  "properties": {
                    "data_provider_domain": {
                      "type": "string",
                      "description": "Domain where data provider's adagents.json is hosted (e.g., 'polk.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "by_id",
                      "description": "Discriminator indicating selection by specific signal IDs"
                    },
                    "signal_ids": {
                      "type": "array",
                      "description": "Specific signal IDs from the data provider's catalog",
                      "items": {
                        "type": "string",
                        "pattern": "^[a-zA-Z0-9_-]+$"
                      },
                      "minItems": 1
                    }
                  },
                  "required": [
                    "data_provider_domain",
                    "selection_type",
                    "signal_ids"
                  ],
                  "additionalProperties": true
                },
                {
                  "type": "object",
                  "description": "Select signals by tag membership",
                  "properties": {
                    "data_provider_domain": {
                      "type": "string",
                      "description": "Domain where data provider's adagents.json is hosted (e.g., 'polk.com')",
                      "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$"
                    },
                    "selection_type": {
                      "type": "string",
                      "const": "by_tag",
                      "description": "Discriminator indicating selection by signal tags"
                    },
                    "signal_tags": {
                      "type": "array",
                      "description": "Signal tags from the data provider's catalog. Selector covers all signals with these tags",
                      "items": {
                        "type": "string",
                        "pattern": "^[a-z0-9_-]+$"
                      },
                      "minItems": 1
                    }
                  },
                  "required": [
                    "data_provider_domain",
                    "selection_type",
                    "signal_tags"
                  ],
                  "additionalProperties": true
                }
              ]
            }
          },
          "signal_targeting_allowed": {
            "type": "boolean",
            "default": false,
            "description": "Whether buyers can filter this product to a subset of its data_provider_signals. When false (default), the product includes all listed signals as a bundle. When true, buyers can target specific signals."
          },
          "catalog_types": {
            "type": "array",
            "description": "Catalog types this product supports for catalog-driven campaigns. A sponsored product listing declares [\"product\"], a job board declares [\"job\", \"offering\"]. Buyers match synced catalogs to products via this field.",
            "items": {
              "title": "Catalog Type",
              "description": "The type of catalog feed. Determines the item schema and how the platform resolves catalog items. Multiple catalog types can be synced to the same account and referenced together in creatives.",
              "type": "string",
              "enum": [
                "offering",
                "product",
                "inventory",
                "store",
                "promotion",
                "hotel",
                "flight",
                "job",
                "vehicle",
                "real_estate",
                "education",
                "destination",
                "app"
              ]
            },
            "uniqueItems": true,
            "minItems": 1
          },
          "metric_optimization": {
            "type": "object",
            "description": "Metric optimization capabilities for this product. Presence indicates the product supports optimization_goals with kind: 'metric'. No event source or conversion tracking setup required  the seller tracks these metrics natively.",
            "properties": {
              "supported_metrics": {
                "type": "array",
                "description": "Metric kinds this product can optimize for. Buyers should only request metric goals for kinds listed here.",
                "items": {
                  "type": "string",
                  "enum": [
                    "clicks",
                    "views",
                    "completed_views",
                    "viewed_seconds",
                    "attention_seconds",
                    "attention_score",
                    "engagements",
                    "follows",
                    "saves",
                    "profile_visits"
                  ]
                },
                "minItems": 1
              },
              "supported_view_durations": {
                "type": "array",
                "description": "Video view duration thresholds (in seconds) this product supports for completed_views goals. Only relevant when supported_metrics includes 'completed_views'. When absent, the seller uses their platform default. Buyers must set view_duration_seconds to a value in this list  sellers reject unsupported values.",
                "items": {
                  "type": "number",
                  "exclusiveMinimum": 0
                }
              },
              "supported_targets": {
                "type": "array",
                "description": "Target kinds available for metric goals on this product. Values match target.kind on the optimization goal. Only these target kinds are accepted  goals with unlisted target kinds will be rejected. When omitted, buyers can set target-less metric goals (maximize volume within budget) but cannot set specific targets.",
                "items": {
                  "type": "string",
                  "enum": [
                    "cost_per",
                    "threshold_rate"
                  ]
                }
              }
            },
            "required": [
              "supported_metrics"
            ],
            "additionalProperties": true
          },
          "max_optimization_goals": {
            "type": "integer",
            "minimum": 1,
            "description": "Maximum number of optimization_goals this product accepts on a package. When absent, no limit is declared. Most social platforms accept only 1 goal  buyers sending arrays longer than this value should expect the seller to use only the highest-priority (lowest priority number) goal."
          },
          "conversion_tracking": {
            "type": "object",
            "description": "Conversion event tracking for this product. Presence indicates the product supports optimization_goals with kind: 'event'. Seller-level capabilities (supported event types, UID types, attribution windows) are declared in get_adcp_capabilities.",
            "properties": {
              "action_sources": {
                "type": "array",
                "description": "Action sources relevant to this product (e.g. a retail media product might have 'in_store' and 'website', while a display product might only have 'website')",
                "items": {
                  "title": "Action Source",
                  "description": "Where the conversion event originated",
                  "type": "string",
                  "enum": [
                    "website",
                    "app",
                    "offline",
                    "phone_call",
                    "chat",
                    "email",
                    "in_store",
                    "system_generated",
                    "other"
                  ],
                  "enumDescriptions": {
                    "website": "Event occurred on a website",
                    "app": "Event occurred in a mobile or desktop app",
                    "offline": "Event occurred offline (imported data)",
                    "phone_call": "Event originated from a phone call",
                    "chat": "Event originated from a chat conversation",
                    "email": "Event originated from an email interaction",
                    "in_store": "Event occurred at a physical retail location",
                    "system_generated": "Event generated by an automated system",
                    "other": "Other source (specify in ext)"
                  }
                },
                "minItems": 1
              },
              "supported_targets": {
                "type": "array",
                "description": "Target kinds available for event goals on this product. Values match target.kind on the optimization goal. cost_per: target cost per conversion event. per_ad_spend: target return on ad spend (requires value_field on event sources). maximize_value: maximize total conversion value without a specific ratio target (requires value_field). Only these target kinds are accepted  goals with unlisted target kinds will be rejected. A goal without a target implicitly maximizes conversion count within budget  no declaration needed for that mode. When omitted, buyers can still set target-less event goals.",
                "items": {
                  "type": "string",
                  "enum": [
                    "cost_per",
                    "per_ad_spend",
                    "maximize_value"
                  ]
                },
                "minItems": 1
              },
              "platform_managed": {
                "type": "boolean",
                "description": "Whether the seller provides its own always-on measurement (e.g. Amazon sales attribution for Amazon advertisers). When true, sync_event_sources response will include seller-managed event sources with managed_by='seller'."
              }
            },
            "additionalProperties": true
          },
          "catalog_match": {
            "type": "object",
            "description": "When the buyer provides a catalog on get_products, indicates which catalog items are eligible for this product. Only present for products where catalog matching is relevant (e.g., sponsored product listings, job boards, hotel ads).",
            "properties": {
              "matched_gtins": {
                "type": "array",
                "description": "GTINs from the buyer's catalog that are eligible on this product's inventory. Standard GTIN formats (GTIN-8 through GTIN-14). Only present for product-type catalogs with GTIN matching.",
                "items": {
                  "type": "string",
                  "pattern": "^[0-9]{8,14}$"
                }
              },
              "matched_ids": {
                "type": "array",
                "description": "Item IDs from the buyer's catalog that matched this product's inventory. The ID type depends on the catalog type and content_id_type (e.g., SKUs for product catalogs, job_ids for job catalogs, offering_ids for offering catalogs).",
                "items": {
                  "type": "string"
                }
              },
              "matched_count": {
                "type": "integer",
                "description": "Number of catalog items that matched this product's inventory.",
                "minimum": 0
              },
              "submitted_count": {
                "type": "integer",
                "description": "Total catalog items evaluated from the buyer's catalog.",
                "minimum": 0
              }
            },
            "required": [
              "submitted_count"
            ]
          },
          "brief_relevance": {
            "type": "string",
            "description": "Explanation of why this product matches the brief (only included when brief is provided)"
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "Expiration timestamp for custom products"
          },
          "product_card": {
            "type": "object",
            "description": "Optional standard visual card (300x400px) for displaying this product in user interfaces. Can be rendered via preview_creative or pre-generated.",
            "properties": {
              "format_id": {
                "title": "Format ID",
                "description": "Creative format defining the card layout (typically product_card_standard)",
                "type": "object",
                "properties": {
                  "agent_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                  },
                  "id": {
                    "type": "string",
                    "pattern": "^[a-zA-Z0-9_-]+$",
                    "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                  },
                  "width": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                  },
                  "height": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                  },
                  "duration_ms": {
                    "type": "number",
                    "minimum": 1,
                    "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                  }
                },
                "required": [
                  "agent_url",
                  "id"
                ],
                "additionalProperties": true,
                "dependencies": {
                  "width": [
                    "height"
                  ],
                  "height": [
                    "width"
                  ]
                }
              },
              "manifest": {
                "type": "object",
                "description": "Asset manifest for rendering the card, structure defined by the format",
                "additionalProperties": true
              }
            },
            "required": [
              "format_id",
              "manifest"
            ],
            "additionalProperties": true
          },
          "product_card_detailed": {
            "type": "object",
            "description": "Optional detailed card with carousel and full specifications. Provides rich product presentation similar to media kit pages.",
            "properties": {
              "format_id": {
                "title": "Format ID",
                "description": "Creative format defining the detailed card layout (typically product_card_detailed)",
                "type": "object",
                "properties": {
                  "agent_url": {
                    "type": "string",
                    "format": "uri",
                    "description": "URL of the agent that defines this format (e.g., 'https://creatives.adcontextprotocol.org' for standard formats, or 'https://publisher.com/.well-known/adcp/sales' for custom formats)"
                  },
                  "id": {
                    "type": "string",
                    "pattern": "^[a-zA-Z0-9_-]+$",
                    "description": "Format identifier within the agent's namespace (e.g., 'display_static', 'video_hosted', 'audio_standard'). When used alone, references a template format. When combined with dimension/duration fields, creates a parameterized format ID for a specific variant."
                  },
                  "width": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Width in pixels for visual formats. When specified, height must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                  },
                  "height": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Height in pixels for visual formats. When specified, width must also be specified. Both fields together create a parameterized format ID for dimension-specific variants."
                  },
                  "duration_ms": {
                    "type": "number",
                    "minimum": 1,
                    "description": "Duration in milliseconds for time-based formats (video, audio). When specified, creates a parameterized format ID. Omit to reference a template format without parameters."
                  }
                },
                "required": [
                  "agent_url",
                  "id"
                ],
                "additionalProperties": true,
                "dependencies": {
                  "width": [
                    "height"
                  ],
                  "height": [
                    "width"
                  ]
                }
              },
              "manifest": {
                "type": "object",
                "description": "Asset manifest for rendering the detailed card, structure defined by the format",
                "additionalProperties": true
              }
            },
            "required": [
              "format_id",
              "manifest"
            ],
            "additionalProperties": true
          },
          "ext": {
            "title": "Extension Object",
            "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
            "type": "object",
            "additionalProperties": true
          }
        },
        "required": [
          "product_id",
          "name",
          "description",
          "publisher_properties",
          "format_ids",
          "delivery_type",
          "delivery_measurement",
          "pricing_options"
        ],
        "additionalProperties": true
      }
    },
    "proposals": {
      "type": "array",
      "description": "Optional array of proposed media plans with budget allocations across products. Publishers include proposals when they can provide strategic guidance based on the brief. Proposals are actionable - buyers can refine them via follow-up get_products calls within the same session, or execute them directly via create_media_buy.",
      "items": {
        "title": "Proposal",
        "description": "A proposed media plan with budget allocations across products. Represents the publisher's strategic recommendation for how to structure a campaign based on the brief. Proposals are actionable - buyers can execute them directly via create_media_buy by providing the proposal_id.",
        "type": "object",
        "properties": {
          "proposal_id": {
            "type": "string",
            "description": "Unique identifier for this proposal. Used to execute it via create_media_buy."
          },
          "name": {
            "type": "string",
            "description": "Human-readable name for this media plan proposal"
          },
          "description": {
            "type": "string",
            "description": "Explanation of the proposal strategy and what it achieves"
          },
          "allocations": {
            "type": "array",
            "description": "Budget allocations across products. Allocation percentages MUST sum to 100. Publishers are responsible for ensuring the sum equals 100; buyers SHOULD validate this before execution.",
            "items": {
              "title": "Product Allocation",
              "description": "A budget allocation for a specific product within a proposal. Percentages across all allocations in a proposal should sum to 100.",
              "type": "object",
              "properties": {
                "product_id": {
                  "type": "string",
                  "description": "ID of the product (must reference a product in the products array)"
                },
                "allocation_percentage": {
                  "type": "number",
                  "description": "Percentage of total budget allocated to this product (0-100)",
                  "minimum": 0,
                  "maximum": 100
                },
                "pricing_option_id": {
                  "type": "string",
                  "description": "Recommended pricing option ID from the product's pricing_options array"
                },
                "rationale": {
                  "type": "string",
                  "description": "Explanation of why this product and allocation are recommended"
                },
                "sequence": {
                  "type": "integer",
                  "description": "Optional ordering hint for multi-line-item plans (1-based)",
                  "minimum": 1
                },
                "tags": {
                  "type": "array",
                  "description": "Categorical tags for this allocation (e.g., 'desktop', 'german', 'mobile') - useful for grouping/filtering allocations by dimension",
                  "items": {
                    "type": "string"
                  }
                },
                "daypart_targets": {
                  "type": "array",
                  "description": "Recommended time windows for this allocation in spot-plan proposals.",
                  "items": {
                    "title": "Daypart Target",
                    "description": "A time window for daypart targeting. Specifies days of week and an hour range. start_hour is inclusive, end_hour is exclusive (e.g., 6-10 = 6:00am to 10:00am). Follows the Google Ads AdScheduleInfo / DV360 DayPartTargeting pattern.",
                    "type": "object",
                    "properties": {
                      "days": {
                        "type": "array",
                        "description": "Days of week this window applies to. Use multiple days for compact targeting (e.g., monday-friday in one object).",
                        "items": {
                          "title": "Day of Week",
                          "description": "Days of the week for daypart targeting",
                          "type": "string",
                          "enum": [
                            "monday",
                            "tuesday",
                            "wednesday",
                            "thursday",
                            "friday",
                            "saturday",
                            "sunday"
                          ]
                        },
                        "minItems": 1
                      },
                      "start_hour": {
                        "type": "integer",
                        "description": "Start hour (inclusive), 0-23 in 24-hour format. 0 = midnight, 6 = 6:00am, 18 = 6:00pm.",
                        "minimum": 0,
                        "maximum": 23
                      },
                      "end_hour": {
                        "type": "integer",
                        "description": "End hour (exclusive), 1-24 in 24-hour format. 10 = 10:00am, 24 = midnight. Must be greater than start_hour.",
                        "minimum": 1,
                        "maximum": 24
                      },
                      "label": {
                        "type": "string",
                        "description": "Optional human-readable name for this time window (e.g., 'Morning Drive', 'Prime Time')"
                      }
                    },
                    "required": [
                      "days",
                      "start_hour",
                      "end_hour"
                    ],
                    "additionalProperties": false
                  },
                  "minItems": 1
                },
                "forecast": {
                  "title": "Delivery Forecast",
                  "description": "Forecasted delivery metrics for this allocation",
                  "type": "object",
                  "properties": {
                    "points": {
                      "type": "array",
                      "description": "Forecasted delivery at one or more budget levels. A single point is a standard forecast; multiple points ordered by ascending budget form a curve showing how metrics scale with spend. Each point pairs a budget with metric ranges.",
                      "items": {
                        "title": "Forecast Point",
                        "description": "A forecast at a specific budget level. A single point represents a standard forecast; multiple points ordered by ascending budget form a curve showing how delivery metrics scale with spend.",
                        "type": "object",
                        "properties": {
                          "budget": {
                            "type": "number",
                            "description": "Budget amount for this forecast point. For allocation-level forecasts, this is the absolute budget for that allocation (not the percentage). For proposal-level forecasts, this is the total proposal budget.",
                            "minimum": 0
                          },
                          "metrics": {
                            "type": "object",
                            "description": "Forecasted metric values at this budget level. Keys are either forecastable-metric values for delivery/engagement (impressions, reach, spend, etc.) or event-type values for outcomes (purchase, lead, app_install, etc.). Values are ForecastRange objects (low/mid/high). Use { \"mid\": value } for point estimates. Include spend when the platform predicts it will differ from budget.",
                            "additionalProperties": {
                              "title": "Forecast Range",
                              "description": "A forecast value with optional low/high bounds. The mid value represents the most likely outcome. When low and high are provided, they represent conservative and optimistic estimates respectively.",
                              "type": "object",
                              "properties": {
                                "low": {
                                  "type": "number",
                                  "description": "Conservative (low-end) forecast value",
                                  "minimum": 0
                                },
                                "mid": {
                                  "type": "number",
                                  "description": "Expected (most likely) forecast value",
                                  "minimum": 0
                                },
                                "high": {
                                  "type": "number",
                                  "description": "Optimistic (high-end) forecast value",
                                  "minimum": 0
                                }
                              },
                              "required": [
                                "mid"
                              ],
                              "additionalProperties": true
                            }
                          }
                        },
                        "required": [
                          "budget",
                          "metrics"
                        ],
                        "additionalProperties": true
                      },
                      "minItems": 1
                    },
                    "forecast_range_unit": {
                      "title": "Forecast Range Unit",
                      "description": "How to interpret the points array. 'spend' (default when omitted): points at ascending budget levels. 'reach_freq': points at ascending reach/frequency targets. 'weekly'/'daily': metrics are per-period values. 'clicks'/'conversions': points at ascending outcome targets.",
                      "type": "string",
                      "enum": [
                        "spend",
                        "reach_freq",
                        "weekly",
                        "daily",
                        "clicks",
                        "conversions"
                      ],
                      "enumDescriptions": {
                        "spend": "Points at ascending budget levels. Standard budget curve showing how delivery metrics scale with spend. Default when field is omitted.",
                        "reach_freq": "Points at ascending reach/frequency targets. Used in broadcast planning where the publisher shows how cost scales with frequency goals.",
                        "weekly": "Metrics are per-week values. Budget refers to total campaign spend. Frequency of 3.2 means 3.2 exposures per week.",
                        "daily": "Metrics are per-day values. Budget refers to total campaign spend.",
                        "clicks": "Points at ascending click targets. Used in performance campaigns where the buyer specifies click goals.",
                        "conversions": "Points at ascending conversion targets. Used in goal-based planning (e.g., Meta-style 'tell me your goal, I'll tell you the budget')."
                      }
                    },
                    "method": {
                      "title": "Forecast Method",
                      "description": "Method used to produce this forecast",
                      "type": "string",
                      "enum": [
                        "estimate",
                        "modeled",
                        "guaranteed"
                      ],
                      "enumDescriptions": {
                        "estimate": "Rough approximation based on historical averages or heuristics. No delivery commitment.",
                        "modeled": "Forecast derived from platform-specific predictive models or historical data. Publisher uses this to set expectations but does not guarantee delivery.",
                        "guaranteed": "Contractually committed delivery levels backed by reserved inventory"
                      }
                    },
                    "currency": {
                      "type": "string",
                      "description": "ISO 4217 currency code for monetary values in this forecast (spend, budget)"
                    },
                    "demographic_system": {
                      "title": "Demographic System",
                      "description": "Measurement system for the demographic field. Ensures buyer and seller agree on demographic notation.",
                      "type": "string",
                      "enum": [
                        "nielsen",
                        "barb",
                        "agf",
                        "oztam",
                        "mediametrie",
                        "custom"
                      ],
                      "enumDescriptions": {
                        "nielsen": "Nielsen notation. Prefix: P(ersons), M(en), W(omen), A(dults), C(hildren), T(eens) + age range. Examples: P18-49, M25-54, W35+",
                        "barb": "BARB (UK). NRS social grade + age bands. Examples: ABC1 Adults, 16-34, Adults",
                        "agf": "AGF Videoforschung (Germany). Erwachsene notation + age bands. Examples: E 14-49, E 14+",
                        "oztam": "OzTAM (Australia). Age/gender bands, 4+ measurement universe",
                        "mediametrie": "Mediametrie (France). Named segments + age bands",
                        "custom": "Publisher-defined demographic notation"
                      }
                    },
                    "demographic": {
                      "type": "string",
                      "description": "Target demographic code within the specified demographic_system. For Nielsen: P18-49, M25-54, W35+. For BARB: ABC1 Adults, 16-34. For AGF: E 14-49.",
                      "examples": [
                        "P18-49",
                        "A25-54",
                        "W35+",
                        "M18-34"
                      ]
                    },
                    "reach_unit": {
                      "title": "Reach Unit",
                      "description": "Unit of measurement for reach and audience_size metrics in this forecast. Required for cross-channel forecast comparison.",
                      "type": "string",
                      "enum": [
                        "individuals",
                        "households",
                        "devices",
                        "accounts",
                        "cookies",
                        "custom"
                      ],
                      "enumDescriptions": {
                        "individuals": "Unique people. Panel-based or identity-resolved measurement.",
                        "households": "Unique households or TV homes.",
                        "devices": "Unique device identifiers (IDFA, GAID, CTV device ID).",
                        "accounts": "Unique logged-in accounts (platform-specific identity).",
                        "cookies": "Unique browser cookies.",
                        "custom": "Publisher-defined reach unit. Describe in ext."
                      }
                    },
                    "generated_at": {
                      "type": "string",
                      "format": "date-time",
                      "description": "When this forecast was computed"
                    },
                    "valid_until": {
                      "type": "string",
                      "format": "date-time",
                      "description": "When this forecast expires. After this time, the forecast should be refreshed. Forecast expiry does not affect proposal executability."
                    },
                    "ext": {
                      "title": "Extension Object",
                      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                      "type": "object",
                      "additionalProperties": true
                    }
                  },
                  "required": [
                    "points",
                    "method",
                    "currency"
                  ],
                  "additionalProperties": true
                },
                "ext": {
                  "title": "Extension Object",
                  "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                  "type": "object",
                  "additionalProperties": true
                }
              },
              "required": [
                "product_id",
                "allocation_percentage"
              ],
              "additionalProperties": true
            },
            "minItems": 1
          },
          "expires_at": {
            "type": "string",
            "format": "date-time",
            "description": "When this proposal expires and can no longer be executed. After expiration, referenced products or pricing may no longer be available."
          },
          "total_budget_guidance": {
            "type": "object",
            "description": "Optional budget guidance for this proposal",
            "properties": {
              "min": {
                "type": "number",
                "description": "Minimum recommended budget",
                "minimum": 0
              },
              "recommended": {
                "type": "number",
                "description": "Recommended budget for optimal performance",
                "minimum": 0
              },
              "max": {
                "type": "number",
                "description": "Maximum budget before diminishing returns",
                "minimum": 0
              },
              "currency": {
                "type": "string",
                "description": "ISO 4217 currency code"
              }
            },
            "additionalProperties": true
          },
          "brief_alignment": {
            "type": "string",
            "description": "Explanation of how this proposal aligns with the campaign brief"
          },
          "forecast": {
            "title": "Delivery Forecast",
            "description": "Aggregate forecasted delivery metrics for the entire proposal. When both proposal-level and allocation-level forecasts are present, the proposal-level forecast is authoritative for total delivery estimation.",
            "type": "object",
            "properties": {
              "points": {
                "type": "array",
                "description": "Forecasted delivery at one or more budget levels. A single point is a standard forecast; multiple points ordered by ascending budget form a curve showing how metrics scale with spend. Each point pairs a budget with metric ranges.",
                "items": {
                  "title": "Forecast Point",
                  "description": "A forecast at a specific budget level. A single point represents a standard forecast; multiple points ordered by ascending budget form a curve showing how delivery metrics scale with spend.",
                  "type": "object",
                  "properties": {
                    "budget": {
                      "type": "number",
                      "description": "Budget amount for this forecast point. For allocation-level forecasts, this is the absolute budget for that allocation (not the percentage). For proposal-level forecasts, this is the total proposal budget.",
                      "minimum": 0
                    },
                    "metrics": {
                      "type": "object",
                      "description": "Forecasted metric values at this budget level. Keys are either forecastable-metric values for delivery/engagement (impressions, reach, spend, etc.) or event-type values for outcomes (purchase, lead, app_install, etc.). Values are ForecastRange objects (low/mid/high). Use { \"mid\": value } for point estimates. Include spend when the platform predicts it will differ from budget.",
                      "additionalProperties": {
                        "title": "Forecast Range",
                        "description": "A forecast value with optional low/high bounds. The mid value represents the most likely outcome. When low and high are provided, they represent conservative and optimistic estimates respectively.",
                        "type": "object",
                        "properties": {
                          "low": {
                            "type": "number",
                            "description": "Conservative (low-end) forecast value",
                            "minimum": 0
                          },
                          "mid": {
                            "type": "number",
                            "description": "Expected (most likely) forecast value",
                            "minimum": 0
                          },
                          "high": {
                            "type": "number",
                            "description": "Optimistic (high-end) forecast value",
                            "minimum": 0
                          }
                        },
                        "required": [
                          "mid"
                        ],
                        "additionalProperties": true
                      }
                    }
                  },
                  "required": [
                    "budget",
                    "metrics"
                  ],
                  "additionalProperties": true
                },
                "minItems": 1
              },
              "forecast_range_unit": {
                "title": "Forecast Range Unit",
                "description": "How to interpret the points array. 'spend' (default when omitted): points at ascending budget levels. 'reach_freq': points at ascending reach/frequency targets. 'weekly'/'daily': metrics are per-period values. 'clicks'/'conversions': points at ascending outcome targets.",
                "type": "string",
                "enum": [
                  "spend",
                  "reach_freq",
                  "weekly",
                  "daily",
                  "clicks",
                  "conversions"
                ],
                "enumDescriptions": {
                  "spend": "Points at ascending budget levels. Standard budget curve showing how delivery metrics scale with spend. Default when field is omitted.",
                  "reach_freq": "Points at ascending reach/frequency targets. Used in broadcast planning where the publisher shows how cost scales with frequency goals.",
                  "weekly": "Metrics are per-week values. Budget refers to total campaign spend. Frequency of 3.2 means 3.2 exposures per week.",
                  "daily": "Metrics are per-day values. Budget refers to total campaign spend.",
                  "clicks": "Points at ascending click targets. Used in performance campaigns where the buyer specifies click goals.",
                  "conversions": "Points at ascending conversion targets. Used in goal-based planning (e.g., Meta-style 'tell me your goal, I'll tell you the budget')."
                }
              },
              "method": {
                "title": "Forecast Method",
                "description": "Method used to produce this forecast",
                "type": "string",
                "enum": [
                  "estimate",
                  "modeled",
                  "guaranteed"
                ],
                "enumDescriptions": {
                  "estimate": "Rough approximation based on historical averages or heuristics. No delivery commitment.",
                  "modeled": "Forecast derived from platform-specific predictive models or historical data. Publisher uses this to set expectations but does not guarantee delivery.",
                  "guaranteed": "Contractually committed delivery levels backed by reserved inventory"
                }
              },
              "currency": {
                "type": "string",
                "description": "ISO 4217 currency code for monetary values in this forecast (spend, budget)"
              },
              "demographic_system": {
                "title": "Demographic System",
                "description": "Measurement system for the demographic field. Ensures buyer and seller agree on demographic notation.",
                "type": "string",
                "enum": [
                  "nielsen",
                  "barb",
                  "agf",
                  "oztam",
                  "mediametrie",
                  "custom"
                ],
                "enumDescriptions": {
                  "nielsen": "Nielsen notation. Prefix: P(ersons), M(en), W(omen), A(dults), C(hildren), T(eens) + age range. Examples: P18-49, M25-54, W35+",
                  "barb": "BARB (UK). NRS social grade + age bands. Examples: ABC1 Adults, 16-34, Adults",
                  "agf": "AGF Videoforschung (Germany). Erwachsene notation + age bands. Examples: E 14-49, E 14+",
                  "oztam": "OzTAM (Australia). Age/gender bands, 4+ measurement universe",
                  "mediametrie": "Mediametrie (France). Named segments + age bands",
                  "custom": "Publisher-defined demographic notation"
                }
              },
              "demographic": {
                "type": "string",
                "description": "Target demographic code within the specified demographic_system. For Nielsen: P18-49, M25-54, W35+. For BARB: ABC1 Adults, 16-34. For AGF: E 14-49.",
                "examples": [
                  "P18-49",
                  "A25-54",
                  "W35+",
                  "M18-34"
                ]
              },
              "reach_unit": {
                "title": "Reach Unit",
                "description": "Unit of measurement for reach and audience_size metrics in this forecast. Required for cross-channel forecast comparison.",
                "type": "string",
                "enum": [
                  "individuals",
                  "households",
                  "devices",
                  "accounts",
                  "cookies",
                  "custom"
                ],
                "enumDescriptions": {
                  "individuals": "Unique people. Panel-based or identity-resolved measurement.",
                  "households": "Unique households or TV homes.",
                  "devices": "Unique device identifiers (IDFA, GAID, CTV device ID).",
                  "accounts": "Unique logged-in accounts (platform-specific identity).",
                  "cookies": "Unique browser cookies.",
                  "custom": "Publisher-defined reach unit. Describe in ext."
                }
              },
              "generated_at": {
                "type": "string",
                "format": "date-time",
                "description": "When this forecast was computed"
              },
              "valid_until": {
                "type": "string",
                "format": "date-time",
                "description": "When this forecast expires. After this time, the forecast should be refreshed. Forecast expiry does not affect proposal executability."
              },
              "ext": {
                "title": "Extension Object",
                "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
                "type": "object",
                "additionalProperties": true
              }
            },
            "required": [
              "points",
              "method",
              "currency"
            ],
            "additionalProperties": true
          },
          "ext": {
            "title": "Extension Object",
            "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
            "type": "object",
            "additionalProperties": true
          }
        },
        "required": [
          "proposal_id",
          "name",
          "allocations"
        ],
        "additionalProperties": true
      }
    },
    "errors": {
      "type": "array",
      "description": "Task-specific errors and warnings (e.g., product filtering issues)",
      "items": {
        "title": "Error",
        "description": "Standard error structure for task-specific errors and warnings",
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Error code for programmatic handling"
          },
          "message": {
            "type": "string",
            "description": "Human-readable error message"
          },
          "field": {
            "type": "string",
            "description": "Field path associated with the error (e.g., 'packages[0].targeting')"
          },
          "suggestion": {
            "type": "string",
            "description": "Suggested fix for the error"
          },
          "retry_after": {
            "type": "number",
            "description": "Seconds to wait before retrying the operation",
            "minimum": 0
          },
          "details": {
            "type": "object",
            "description": "Additional task-specific error details",
            "additionalProperties": true
          }
        },
        "required": [
          "code",
          "message"
        ],
        "additionalProperties": true
      }
    },
    "property_list_applied": {
      "type": "boolean",
      "description": "[AdCP 3.0] Indicates whether property_list filtering was applied. True if the agent filtered products based on the provided property_list. Absent or false if property_list was not provided or not supported by this agent."
    },
    "catalog_applied": {
      "type": "boolean",
      "description": "Whether the seller filtered results based on the provided catalog. True if the seller matched catalog items against its inventory. Absent or false if no catalog was provided or the seller does not support catalog matching."
    },
    "pagination": {
      "title": "Pagination Response",
      "description": "Standard cursor-based pagination metadata for list responses",
      "type": "object",
      "properties": {
        "has_more": {
          "type": "boolean",
          "description": "Whether more results are available beyond this page"
        },
        "cursor": {
          "type": "string",
          "description": "Opaque cursor to pass in the next request to fetch the next page. Only present when has_more is true."
        },
        "total_count": {
          "type": "integer",
          "minimum": 0,
          "description": "Total number of items matching the query across all pages. Optional because not all backends can efficiently compute this."
        }
      },
      "required": [
        "has_more"
      ],
      "additionalProperties": false
    },
    "sandbox": {
      "type": "boolean",
      "description": "When true, this response contains simulated data from sandbox mode."
    },
    "context": {
      "title": "Context Object",
      "description": "Opaque correlation data that is echoed unchanged in responses. Used for internal tracking, UI session IDs, trace IDs, and other caller-specific identifiers that don't affect protocol behavior. Context data is never parsed by AdCP agents - it's simply preserved and returned.",
      "type": "object",
      "additionalProperties": true
    },
    "ext": {
      "title": "Extension Object",
      "description": "Extension object for platform-specific, vendor-namespaced parameters. Extensions are always optional and must be namespaced under a vendor/platform key (e.g., ext.gam, ext.roku). Used for custom capabilities, partner-specific configuration, and features being proposed for standardization.",
      "type": "object",
      "additionalProperties": true
    }
  },
  "required": [
    "products"
  ],
  "additionalProperties": true,
  "_bundled": {
    "generatedAt": "2026-02-26T12:28:33.825Z",
    "note": "This is a bundled schema with all $ref resolved inline. For the modular version with references, use the parent directory."
  }
}